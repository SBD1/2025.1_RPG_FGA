{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"RPG - FCTE","text":""},{"location":"#1-introducao","title":"1. Introdu\u00e7\u00e3o","text":"<p>Este trabalho prop\u00f5e a cria\u00e7\u00e3o de um jogo de RPG baseado em texto, ambientado na FCTE (Faculdade de Ci\u00eancias e Tecnologia em Engenharia - UnB Gama), com o objetivo de aplicar conceitos de modelagem e estrutura\u00e7\u00e3o de banco de dados em um contexto l\u00fadico e criativo. O jogador assume o papel de um(a) estudante que precisa atingir o n\u00edvel 10 para se formar, enfrentando desafios, monstros (disciplinas), acumulando XP, adquirindo itens e explorando as diferentes regi\u00f5es da faculdade.</p>"},{"location":"#2-objetivo","title":"2. Objetivo","text":"<p>O principal objetivo deste projeto \u00e9 integrar os conceitos estudados na disciplina de Bancos de Dados 1 com um cen\u00e1rio l\u00fadico e criativo. Para isso, ser\u00e1 necess\u00e1rio:</p> <ul> <li> <p>Modelar a estrutura do jogo utilizando as tr\u00eas etapas de projeto de banco de dados:</p> <ul> <li>Modelo conceitual, com diagramas como Modelo Entidade-Relacionamento;</li> <li>Modelo l\u00f3gico, com Diagrama Relacional e Dicion\u00e1rio de Dados;</li> <li>Modelo f\u00edsico, com a implementa\u00e7\u00e3o em SQL.</li> </ul> </li> <li> <p>Implementar o banco de dados em um SGBD real, o PostgreSQL, contendo tabelas, relacionamentos, integridade referencial e procedimentos adequados.</p> </li> <li> <p>Desenvolver uma interface backend (por exemplo, com Javascript ou Python) que permita interagir com o banco de dados, realizando as funcionalidades do jogo: batalhas, progress\u00e3o, uso de itens, movimenta\u00e7\u00e3o entre regi\u00f5es, etc.</p> </li> </ul>"},{"location":"#3-integrantes","title":"3. Integrantes","text":"<p><p>Tabela 1: Integrantes do grupo</p> </p> Isaque Camargos Ludmila Nunes Milena Marques Othavio Bolzan Rafael Welz Rodrigo Amaral <p><p>Fonte: Autores, 2025</p> </p>"},{"location":"#6-historico-de-versoes","title":"6. Hist\u00f3rico de Vers\u00f5es","text":"Vers\u00e3o Descri\u00e7\u00e3o Autor Data 1.0 Cria\u00e7\u00e3o do MKDocs Isaque Camargos 29/04/2025 1.1 Cria\u00e7\u00e3o da index Ludmila Nunes e Isaque Camargos 29/04/2025"},{"location":"entrega1/derv1/","title":"Diagrama Entidade-Relacionamento","text":"<p>O diagrama de entidade e relacionamento (DER ou ERD) \u00e9 uma representa\u00e7\u00e3o visual de como as entidades e seus relacionamentos se organizam em um sistema, como um banco de dados. Serve para modelar dados, mostrando como diferentes elementos (pessoas, objetos, conceitos) se interligam. A seguir \u00e9 poss\u00edvel observar a vis\u00e3o l\u00f3gica do banco de dados, fornecendo um conceito mais generalizado de como est\u00e3o estruturados os dados de um sistema.</p>"},{"location":"entrega1/derv1/#v1","title":"V1","text":""},{"location":"entrega1/derv1/#v2","title":"V2","text":""},{"location":"entrega1/derv1/#v3","title":"V3","text":""},{"location":"entrega1/derv1/#v4","title":"V4","text":""},{"location":"entrega1/derv1/#v5","title":"V5","text":""},{"location":"entrega1/derv1/#modificacoes-da-entrega-2","title":"Modifica\u00e7\u00f5es da Entrega 2","text":""},{"location":"entrega1/derv1/#v6","title":"V6","text":""},{"location":"entrega1/derv1/#modificacoes-da-entrega-3","title":"Modifica\u00e7\u00f5es da Entrega 3","text":""},{"location":"entrega1/derv1/#v7","title":"V7","text":"Vers\u00e3o Data Descri\u00e7\u00e3o Autor <code>1.0</code> 29/04/2025 Cria\u00e7\u00e3o do documento DER Isaque Camargos <code>1.1</code> 29/04/2025 Cria\u00e7\u00e3o da primeira vers\u00e3o Rafael Schadt <code>1.2</code> 29/04/2025 Cria\u00e7\u00e3o da segunta vers\u00e3o TODOS <code>1.3</code> 29/04/2025 Cria\u00e7\u00e3o da terceira vers\u00e3o Rafael Schadt e Othavio Bolzan <code>1.4</code> 29/04/2025 Cria\u00e7\u00e3o da quarta vers\u00e3o Rafael Schadt e Ludmila Aysha e Isaque Camargos <code>1.5</code> 29/04/2025 Cria\u00e7\u00e3o da quinta vers\u00e3o, ap\u00f3s revis\u00e3o de todos Isaque Camargos <code>1.6</code> 11/06/2025 Cria\u00e7\u00e3o da sexta vers\u00e3o Rafael Schadt e Ludmila Aysha e Isaque Camargos"},{"location":"entrega1/dicionariov1/","title":"DD - Dicion\u00e1rio de Dados","text":"<p>De acordo com a UC Merced Library,</p> <p>\"Um Dicion\u00e1rio de Dados \u00e9 uma cole\u00e7\u00e3o de nomes, defini\u00e7\u00f5es e atributos sobre elementos de dados que est\u00e3o sendo usados \u200b\u200bou capturados em um banco de dados, sistema de informa\u00e7\u00e3o ou parte de um projeto de pesquisa. Ele descreve os significados e prop\u00f3sitos dos elementos de dados dentro do contexto de um projeto e fornece orienta\u00e7\u00f5es sobre interpreta\u00e7\u00e3o, significados aceitos e representa\u00e7\u00e3o. [...]. Os metadados inclu\u00eddos em um Dicion\u00e1rio de Dados podem auxiliar na defini\u00e7\u00e3o do escopo e das caracter\u00edsticas dos elementos de dados, bem como nas regras para seu uso e aplica\u00e7\u00e3o.\"</p>"},{"location":"entrega1/dicionariov1/#entidade-campus","title":"Entidade: campus","text":"<p>Descri\u00e7\u00e3o: A entidade Campus descreve os campus presentes no jogo e outras informa\u00e7\u00f5es, como: seu n\u00famero de identifica\u00e7\u00e3o e nome.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_campus Identificador \u00fanico do campus INT - PK- Identity nome Nome do campus Char 100 - Not Null descricao Descri\u00e7\u00e3o do campus Char 255 - Not Null"},{"location":"entrega1/dicionariov1/#entidade-dungeon_academica","title":"Entidade: dungeon_Academica","text":"<p>Descri\u00e7\u00e3o: A entidade <code>Dungeon_Academica</code> descreve Dungeons que se relacionam a salas comuns no jogo e outras informa\u00e7\u00f5es, como: seu n\u00famero de identifica\u00e7\u00e3o, nome, descri\u00e7\u00e3o e id do tema. Representa desafios ou ambientes acad\u00eamicos tem\u00e1ticos que fazem parte do sistema. Cada dungeon est\u00e1 relacionada a um tema espec\u00edfico de aprendizado, e cont\u00e9m informa\u00e7\u00f5es como nome e descri\u00e7\u00e3o do desafio.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_dungeon Identificador da Dungeon INT - FK- PK- Not Null nome Nome da Dungeon Acad\u00eamica Char 100 - Not Null descricao Descri\u00e7\u00e3o da Dungeon Acad\u00eamica Char 255 - Not Null id_tema Identificador do Tema INT - FK- Not Null"},{"location":"entrega1/dicionariov1/#entidade-boss","title":"Entidade: boss","text":"<p>Descri\u00e7\u00e3o: A tabela boss representa criaturas especiais (chefes) dentro do sistema, associando cada uma a uma rel\u00edquia que pode ser guardada, protegida ou concedida ao ser derrotado. Cada boss \u00e9 uma criatura registrada previamente e est\u00e1 relacionado a uma rel\u00edquia espec\u00edfica. A tabela \u00e9 uma especializa\u00e7\u00e3o da entidade <code>tipo_criatura</code>. Herda todos os atributos de <code>tipo_criatura</code></p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_criatura Identificador do Boss INT - PK- FK- Not Null id_reliquia Identificador da(s) habilidade(s) que o boss possui INT - FK- Not Null nome Nome do boss Char 100 - Not Null descricao Descri\u00e7\u00e3o do boss Char 255 - Not Null nivel N\u00edvel associado ao boss INT - Not Null vida_max Vida m\u00e1xima que boss pode alcan\u00e7ar INT - Not Null"},{"location":"entrega1/dicionariov1/#entidade-instancia_de_criatura","title":"Entidade: instancia_de_criatura","text":"<p>Descri\u00e7\u00e3o: A tabela Instancia de Criatura registra cada apari\u00e7\u00e3o individual de uma criatura dentro de uma dungeon. Serve para controlar dinamicamente a vida atual da criatura durante intera\u00e7\u00f5es ou combates em ambientes espec\u00edficos do jogo.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_instanciaCriatura Identificador da inst\u00e2ncia criatura INT - PK- Not Null- Identity id_criatura Identificador da criatura INT - FK- Not Null vida_atual Vida atual da criatura INT - Not Null id_dungeon Identificador da Dungeon INT - FK- Not Null"},{"location":"entrega1/dicionariov1/#entidade-ataque","title":"Entidade: ataque","text":"<p>Descri\u00e7\u00e3o: A entidade <code>Ataque</code> descreve o tipo de ataque, que est\u00e1 ligado a uma habilidade. Possui informa\u00e7\u00f5es, como dano causado e porcentagem de acerto e cont\u00e9m todos os atributos de habilidade.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_habilidade Identificador de habilidade INT - PK- FK- Not Null id_tema Identificador do tema ao qual habilidade est\u00e1 associada INT - PK- FK- Not Null nome Nome da habilidade Char 100 - Not Null nivel N\u00edvel da habilidade INT - Not Null coolDown Tempo de recarga INT - Not Null danoCausado Indica o dano causado pelo ataque INT - Not Null preco Custo do ataque INT - Not Null"},{"location":"entrega1/dicionariov1/#entidade-cura","title":"Entidade: cura","text":"<p>Descri\u00e7\u00e3o: A entidade <code>Cura</code> descreve o tipo de cura, que est\u00e1 ligado a uma habilidade. Possui informa\u00e7\u00e3o de vida recuperada e herda todos os atributos de habilidade.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_habilidade Identificador de habilidade INT - PK- FK- Not Null id_tema Identificador do tema ao qual habilidade est\u00e1 associada INT - PK- FK- Not Null nome Nome da habilidade Char 100 - Not Null nivel N\u00edvel da habilidade INT - Not Null coolDown Tempo de recarga INT - Not Null vidaRecuperada Indica o tanto de vida recuperada possibilitado pela habilidade de cura INT - Not Null preco Custo cura INT - Not Null"},{"location":"entrega1/dicionariov1/#entidade-defesa","title":"Entidade: defesa","text":"<p>Descri\u00e7\u00e3o: A entidade <code>Defesa</code> descreve o tipo de defesa, que est\u00e1 ligado a uma habilidade. Possui informa\u00e7\u00e3o de dano mitigado e herda todos os atributos de habilidade.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_habilidade Identificador de habilidade INT - PK- FK- Not Null id_tema Identificador do tema ao qual habilidade est\u00e1 associada INT - PK- FK- Not Null nome Nome da habilidade Char 100 - Not Null nivel N\u00edvel da habilidade INT - Not Null coolDown Tempo de recarga INT - Not Null danoMitigado Indica o tanto de dano mitigado possibilitado pela defesa INT - Not Null preco Custo da defesa INT - Not Null"},{"location":"entrega1/dicionariov1/#entidade-setor","title":"Entidade: setor","text":"<p>Descri\u00e7\u00e3o: A entidade <code>Setor</code> descreve um setor que est\u00e1 dentro do campus. A chave prim\u00e1ria composta indica que o mesmo id_setor poderia existir em mais de um campus, mas com distin\u00e7\u00e3o pelo id_campus. Possui informa\u00e7\u00e3o de nome, descri\u00e7\u00e3o, identificador do campus, e duas chaves estrangeiras referenciando outras lomocomo\u00e7\u00f5es para acesso de outros setores, na qual, possui um auto-relacionamento em que a partir de um setor pode se chegar a outro, ou seja, esse relacionamento entre os setrores cria um tipo de estrutura de lista duplamente ligada. Essa estrutura pode ser \u00fatil para organizar setores em ordem (por exemplo, geogr\u00e1fica ou l\u00f3gica). Os campos id_prevSetor e id_proxSetor s\u00e3o auto-relacionamentos com a mesma tabela, ideais para navega\u00e7\u00e3o sequencial entre setores.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_setor Identificador do Setor INT - PK- Not Null- Identity id_campus Identificador do Campus INT - PK- FK- Not Null nome Nome do Setor Char 100 - Not Null descricao Descri\u00e7\u00e3o do Setor Char 255 - Not Null id_proxSetor Identificador do pr\u00f3ximo setor(auto-relacion.) INT - FK- Not Null id_prevSetor Identificador do setor anterior INT - FK- Not Null"},{"location":"entrega1/dicionariov1/#entidade-loja_item","title":"Entidade: loja_item","text":"<p>Descri\u00e7\u00e3o: A tabela <code>loja_item</code> representa a rela\u00e7\u00e3o entre as lojas dispon\u00edveis no sistema e os itens que est\u00e3o \u00e0 venda em cada uma delas. Essa tabela \u00e9 usada para modelar o relacionamento muitos-para-muitos entre Loja (presente em sala) e Item, indicando quais itens est\u00e3o dispon\u00edveis em quais lojas.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_sala Identificador da sala INT - PK- FK- Not Null id_item Identificador de item INT - PK- FK- Not Null"},{"location":"entrega1/dicionariov1/#entidade-tipo_item","title":"Entidade: tipo_item","text":"<p>Descri\u00e7\u00e3o: A tabela <code>tipo_item</code> \u00e9 uma tabela auxiliar resultado de uma generaliza\u00e7\u00e3o/especializa\u00e7\u00e3o Total Exclusiva. Armazena o identificador do item (que \u00e9 uma chave prim\u00e1ria) e de seu tipo, que .</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_item Identificador do item INT - PK- Not Null- Identity <p>| item_tipo | Indica o tipo do item | Char      | 10     | - Not Null- Check ('Consum\u00edvel', 'Equip\u00e1vel', 'Monet\u00e1rio', 'Rel\u00edquia')                                                         |</p>"},{"location":"entrega1/dicionariov1/#entidade-reliquia","title":"Entidade: reliquia","text":"<p>Descri\u00e7\u00e3o: A tabela reliquia armazena os dados das rel\u00edquias dispon\u00edveis no sistema e possuem um tipo espec\u00edfico. Cada rel\u00edquia possui um identificador \u00fanico, um nome, descri\u00e7\u00e3o e um tipo, que relaciona-se a um tema.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_reliquia Identificador da rel\u00edquia INT - PK- FK- Not Null nome Nome da rel\u00edquia Char 100 - Not Null descricao Descri\u00e7\u00e3o da rel\u00edquia Char 255 - Not Null tipo_reliquia Descreve o tema da rel\u00edquia Char 100 - Not Null"},{"location":"entrega1/dicionariov1/#entidade-consumivel","title":"Entidade: consumivel","text":"<p>Descri\u00e7\u00e3o: A entidade <code>Consum\u00edvel</code> descreve um item consum\u00edvel. Cada item consum\u00edvel possui um identificador \u00fanico, um nome, descri\u00e7\u00e3o e possui informa\u00e7\u00f5es como efeito e pre\u00e7o.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_item Identificador do item INT - PK- FK- Not Null nome Nome do item Char 100 - Not Null descricao Descri\u00e7\u00e3o do item Char 255 - Not Null efeito Efeito do item FLOAT - Not Null preco Pre\u00e7o do item consum\u00edvel FLOAT - Not Null"},{"location":"entrega1/dicionariov1/#entidade-equipavel","title":"Entidade: equipavel","text":"<p>Descri\u00e7\u00e3o: A entidade <code>Equipavel</code> descreve um item equip\u00e1vel. Cada item equip\u00e1vel possui um identificador \u00fanico, um nome, descri\u00e7\u00e3o e possui informa\u00e7\u00f5es como efeito, pre\u00e7o e se est\u00e1 equipado ou n\u00e3o.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_item Identificador do item INT - PK- FK- Not Null nome Nome do item Char 100 - Not Null descricao Descri\u00e7\u00e3o do item Char 255 - Not Null efeito Efeito do item FLOAT - Not Null preco Pre\u00e7o do item consum\u00edvel FLOAT - Not Null equipado indica se o item equipavel est\u00e1 equipado ou n\u00e3o BOOLEAN 1 bit - Not Null"},{"location":"entrega1/dicionariov1/#entidade-monetario","title":"Entidade: monetario","text":"<p>Descri\u00e7\u00e3o: A tabela <code>monetario</code> representa itens do tipo monet\u00e1rio no sistema, como moedas ou valores que podem ser acumulados pelos jogadores. Essa tabela especializa a tabela item e define o valor num\u00e9rico associado a esse tipo de recurso. Herda todos os atributos de Item.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_item Identificador do item INT - PK- FK- Not Null nome Nome do item Char 100 - Not Null descricao Descri\u00e7\u00e3o do item Char 255 - Not Null valor O valor do item monet\u00e1rio INT - Not Null"},{"location":"entrega1/dicionariov1/#entidade-sala_comum","title":"Entidade: sala_comum","text":"<p>Descri\u00e7\u00e3o: A tabela <code>sala_comum</code> representa as salas que comp\u00f5em um setor dentro da estrutura do sistema. Cada sala est\u00e1 vinculada a um setor (id_setor) e possui um identificador pr\u00f3prio (id_sala). A estrutura permite o encadeamento de salas por meio de relacionamentos de anterior e pr\u00f3xima (id_prevSala e id_proxSala), formando uma sequ\u00eancia naveg\u00e1vel. Al\u00e9m disso, cada sala pode conter funcionalidades espec\u00edficas como loja (tem_loja) e dungeon (tem_dungeon), representadas por campos booleanos. Essa modelagem permite a navega\u00e7\u00e3o sequencial entre salas e a defini\u00e7\u00e3o de pontos especiais dentro de um setor.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_sala Identificador \u00fanico da sala INT - PK- Not Null- Identity id_setor Identificador do setor em que a sala est\u00e1 INT - PK- FK- Not Null nome nome da sala Char 100 - Not Null descri\u00e7\u00e3o Descri\u00e7\u00e3o do que tem/contem na sala Char 255 - Not Null id_prevSala Identificador da sala anterior INT - FK id_proxSala Identificador da pr\u00f3xima sala INT - FK tem_loja Se a sala possui loja BOOLEAN 1 bit - Not Null tem_dungeon Se a sala possui dungeon BOOLEAN 1 bit - Not Null"},{"location":"entrega1/dicionariov1/#entidade-habilidade_criatura","title":"Entidade: habilidade_criatura","text":"<p>Descri\u00e7\u00e3o: Cada registro da tabela <code>habilidade_criatura</code> indica que uma determinada criatura possui uma determinada habilidade.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_criatura Identificador da criatura INT - PK- FK- Not Null id_habilidade Identificador da habilidade INT - PK- FK- Not Null"},{"location":"entrega1/dicionariov1/#entidade-habilidade_estudante","title":"Entidade: habilidade_estudante","text":"<p>Descri\u00e7\u00e3o: A tabela Habilidade_Estudante indica quais habilidades cada estudante possui, permitindo que cada estudante possa ter diversas habilidades cadastradas.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_estudante Identificador do estudante INT - PK- FK- Not Null id_habilidade Identificador da habilidade INT - PK- FK- Not Null"},{"location":"entrega1/dicionariov1/#entidade-habilidade_loja","title":"Entidade: habilidade_Loja","text":"<p>Descri\u00e7\u00e3o: A tabela Habilidade_Loja representa o relacionamento entre lojas e habilidades dispon\u00edveis para venda. Ela define quais habilidades podem ser adquiridas nas lojas.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_loja Identificador da loja INT - PK- FK- Not Null id_habilidade Identificador da habilidade INT - PK- FK- Not Null"},{"location":"entrega1/dicionariov1/#entidade-instancia_de_item","title":"Entidade: Instancia_de_item","text":"<p>Descri\u00e7\u00e3o: Armazena as inst\u00e2ncias de itens que existem no sistema, associando cada item a uma sala e/ou a um estudante. Cada inst\u00e2ncia possui um identificador pr\u00f3prio e referencia um tipo de item. Esta tabela permite controlar a posse e localiza\u00e7\u00e3o dos itens no ambiente.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_instanciaItem Identificador da inst\u00e2ncia do item INT - PK- Identity id_item Identificador do item que foi inst\u00e2nciado INT - PK- FK- Not Null id_sala Identificador da sala INT - FK id_estudante Identificador do estudante INT - FK equipado Item equipado BOOL Not Null"},{"location":"entrega1/dicionariov1/#entidade-estudante","title":"Entidade: estudante","text":"<p>Descri\u00e7\u00e3o: A tabela Estudante armazena os dados principais dos estudantes que participam do sistema. Cada estudante possui atributos como vida, estresse e total de dinheiro acumulado. Essa tabela tamb\u00e9m indica a qual sala o estudante pertence, por meio de uma chave estrangeira.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_estudante Identificador de estudante INT - PK- Identity id_sala Identificador da sala que o estudante est\u00e1 INT - FK- Not Null nome Nome do usu\u00e1rio Char 100 - Not Null vida Total de vida que o estudante tem INT - Not Null estresse o N\u00edvel de stress que o usu\u00e1rio est\u00e1 INT - Not Null total_dinheiro Total de moedas que o estudante tem INT - Not Null"},{"location":"entrega1/dicionariov1/#entidade-monstro_simples","title":"Entidade: monstro_simples","text":"<p>Descri\u00e7\u00e3o: A tabela monstro_simples representa criaturas do tipo simples (n\u00e3o-chefes) que aparecem no jogo. Esses monstros, ao serem derrotados, concedem uma certa quantidade de experi\u00eancia tem\u00e1tica (XP) ao jogador e podem deixar moedas como recompensa.Cada monstro possui atributos como n\u00edvel, vida m\u00e1xima, tipo e uma descri\u00e7\u00e3o que pode ser usada para fins narrativos ou funcionais no jogo. A tabela \u00e9 uma especializa\u00e7\u00e3o da entidade <code>tipo_criatura</code>.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_criatura Identificador da criatura INT - PK- FK- Not Null nivel Nivel da criatura INT 100 - FK- Not Null vida_max Valor da vida da criatura INT - Not Null nome Nome da criatura Char 100 - Not Null descricao Descri\u00e7ao da criatura Char 200 -Not Nul xp_tema Quanidade de pontos que o tema oferece para determinada criatura INT - Not Null qtd_moedas Quantidades de moedas que o monstro dropa INT - Not Null - CHECK (qtd_moedas &gt;= 0)"},{"location":"entrega1/dicionariov1/#entidade-tipo_criatura","title":"Entidade: tipo_criatura","text":"<p>Descri\u00e7\u00e3o: A tabela tipo_criatura \u00e9 uma tabela auxiliar resultado de uma generaliza\u00e7\u00e3o/especializa\u00e7\u00e3o total exclusiva que armazena o id da criatura e de qual tipo ela \u00e9, se \u00e9 monstro ou se \u00e9 boss.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_criatura Identificador da criatura INT - PK- Identity tipo_criatura Tipo da criatura Char 10 - Not Null CHECK(tipo_criatura IN ('Monstro', 'Boss'))"},{"location":"entrega1/dicionariov1/#entidade-afinidade","title":"Entidade: afinidade","text":"<p>Descri\u00e7\u00e3o: A tabela Afinidade armazena o relacionamento entre estudantes e temas, representando o n\u00edvel de dom\u00ednio que cada estudante possui sobre determinado tema. Cada registro representa uma afinidade \u00fanica entre um estudante e um tema. Esta tabela possui chave prim\u00e1ria composta e duas chaves estrangeiras, referenciando as tabelas Estudante e Tema.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_estudante Identificador do estudante INT - PK- FK- Not Null id_tema Identificador do tema INT - PK- FK- Not Null xp_atual xp atual que a afinidade tem INT - Not Null nivel_atual Qual o n\u00edvel atual da afinidade INT - Not Null"},{"location":"entrega1/dicionariov1/#entidade-tipohabilidade","title":"Entidade: tipoHabilidade","text":"<p>Descri\u00e7\u00e3o: \u00c9 uma tabela auxiliar resultado de uma generaliza\u00e7\u00e3o/especializa\u00e7\u00e3o total exclusiva. Essa tabela armazena o Id da habilidade e o tipo dela, podendo ser de ataque, cura ou defesa. A tabela se relaciona com as tabelas de Ataque, Cura e Defesa indicando o id das habilidades e com as tabelas de habilidade_criatura, habilidade_estudante, habilidade_loja indicandos as habilidades da criatura ou estudante e quais habilidades vendem na loja. </p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_habilidade Identificador Da habilidade INT - PK tipo_habilidade Qual o tipo da habilidade Char 10 - Not Null- CHECK('ataque', 'cura', 'defesa')"},{"location":"entrega1/dicionariov1/#entidade-tema","title":"Entidade: tema","text":"<p>Descri\u00e7\u00e3o: Cont\u00e9m as tem\u00e1ticas: Matem\u00e1tica, Programa\u00e7\u00e3o, Engenharias, Gerais e Humanidades.</p> Nome Descri\u00e7\u00e3o Tipo de dado Tamanho Restri\u00e7\u00f5es de dom\u00ednio (PK, FK, Not Null, Check, Default, Identity) id_tema Identificador do Tema INT - PK- Identity nome nome do tema Char 100 - Not Null- CHECK(nome IN ('Matem\u00e1tica', 'Programa\u00e7\u00e3o', 'Engenharias', 'Gerais', 'Humanidades'))"},{"location":"entrega1/dicionariov1/#historico-de-versoes","title":"Hist\u00f3rico de Vers\u00f5es","text":"Vers\u00e3o Data Descri\u00e7\u00e3o Autor <code>1.0</code> 01/05/2025 Cria\u00e7\u00e3o do Dicion\u00e1rio de Dados Ludmila Nunes &amp; Isaque Camargos <code>2.0</code> 10/06/2025 Atualiza\u00e7\u00e3o do Dicion\u00e1rio de Dados Milena Marques <code>3.0</code> 04/07/2025 Segunda atualiza\u00e7\u00e3o do Dicion\u00e1rio de Dados Ludmila Nunes &amp; Isaque Camargos"},{"location":"entrega1/mer/","title":"MER - Modelo Entidade-Relacionamento do Sistema RPG","text":"<p>O Modelo Entidade-Relacionamento de um banco de dados \u00e9 um modelo conceitual que descreve as entidades de um dom\u00ednio de neg\u00f3cios, com seus atributos e seus relacionamentos.</p>"},{"location":"entrega1/mer/#1-entidades","title":"1. Entidades","text":"<ol> <li>Campus  </li> <li>Dungeon Academica   </li> <li>Boss   </li> <li>Sala Comum</li> <li>Ataque   </li> <li>Cura   </li> <li>Defea   </li> <li>Setor   </li> <li>Itens Loja   </li> <li>Item   </li> <li>Reliquia   </li> <li>Consumivel   </li> <li>Equipavel</li> <li>Monetario</li> <li>Criatura   </li> <li>monstroSimples   </li> <li>Instancia de item   </li> <li>Habilidade Estudante   </li> <li>Habilidade Criatura   </li> <li>Estudante   </li> <li>Habilidade Loja   </li> <li>Afinidade   </li> <li>Habilidades </li> <li>Tema</li> <li>Instancia de criatura</li> </ol>"},{"location":"entrega1/mer/#2-atributos","title":"2. Atributos","text":"<ul> <li>tema: id_tema, nome;   </li> <li>habilidades: id_habilidade, id_tema, nome, tipo_habilidade, nivel, coolDown;   </li> <li>criatura: id_criatura, vida_max, tipo_criatura, nome, nivel, descricao;   </li> <li>campus: id_campus, nome, descricao;   </li> <li>setor: id_setor, id_campus, nome, descricao, id_proxSetor, id_prevSetor;   </li> <li>sala_comum: id_sala, id_setor, id_prevSala, id_proxSala, descricao, nome, tem_loja, tem_dungeon;   </li> <li>estudante: id_estudante, id_sala, nome, vida, estresse, total_dinheiro;   </li> <li>afinidade: id_estudante, id_tema, xp_atual, nivel_atual;</li> <li>dungeon_academica: id_dungeon, nome, descricao, id_tema;   </li> <li>boss: id_boss, id_reliquia;   </li> <li>reliquia: id_reliquia, tipo;   </li> <li>monstro_simples: id_criatura, xp_tema, qtd_moedas;   </li> <li>instancia_de_criatura: id_instanciaMonstro, id_criatura, vida_atual, id_dungeon;   </li> <li>item: id_item, nome, descricao, item_tipo;   </li> <li>consumivel: id_item, efeito, preco;   </li> <li>instancia_de_item: id_item, id_instanciaItem, id_sala, id_estudante;   </li> <li>equipavel: id_item, efeito, preco, equipado;   </li> <li>monetario: id_item, efeito, preco, equipado;   </li> <li>loja_item: id_sala, id_item;   </li> <li>habilidade_criatura: id_criatura, id_habilidade;   </li> <li>habilidade_estudante: id_estudante, id_habilidade;   </li> <li>loja: id_loja, nome;   </li> <li>habilidade_loja: id_loja, id_habilidade;</li> <li>ataque: id_habilidade, danoCausado, porcentagemAcerto;</li> <li>cura: id_habilidade, danoCausado, porcentagemAcerto;</li> <li>defesa: id_habilidade, danoMitigado; </li> </ul>"},{"location":"entrega1/mer/#3-relacionamentos","title":"3. Relacionamentos","text":"<ol> <li>Campus cont\u00e9m Setor <ul> <li>O Campus poder\u00e1 possuir no m\u00ednimo um setor e no m\u00e1ximo v\u00e1rios setores (1,N).  </li> <li>Um Setor s\u00f3 pode estar em exatamente um Campus (1,1).  </li> </ul> </li> <li>Setor conecta Setor <ul> <li>Um setor pode conectar exatamente a um setor anterior(1,1)  </li> <li>Um setor pode conectar a exatamente a um setor pr\u00f3ximo(1,1)</li> </ul> </li> <li>Sala_Comum cont\u00e9m Dungeon Acad\u00eamica <ul> <li>Uma sala pode possuir zero ou uma dungeon acad\u00e9mica (0,1).  </li> <li>Uma Dungeon Acad\u00eamica s\u00f3 pode estar contida em exatamente um sala (1,1).  </li> </ul> </li> <li>Setor cont\u00e9m Sala Comum <ul> <li>Um Setor pode conter nenhuma a v\u00e1rias Salas Comuns (0,N).  </li> <li>Uma Sala Comum s\u00f3 pode estar contida em exatamente um Setor (1,1).  </li> </ul> </li> <li>Sala Comum cont\u00e9m Loja <ul> <li>Uma sala pode conter nenhuma ou v\u00e1rias Lojas (0,N).  </li> <li>Uma loja s\u00f3 pode estar contida em exatamente uma sala (1,1).  </li> </ul> </li> <li>Loja vende Habilidades <ul> <li>Uma Loja pode vender uma ou v\u00e1rias Habilidades (1,N).  </li> <li>Uma Habilidade pode ser vendida por nenhuma ou v\u00e1rias Loja (0,N).  </li> </ul> </li> <li>Loja vende Item <ul> <li>Uma Loja pode vender nenhum ou v\u00e1rios itens (0,N).  </li> <li>Uma Item pode ser vendida por nenhuma ou v\u00e1rias Loja (0,N).  </li> </ul> </li> <li>Salas Comuns cont\u00e9m Inst\u00e2ncia de Item <ul> <li>Uma Sala Comum pode conter nenhuma ou v\u00e1rias Inst\u00e2ncia de Item (0,N).  </li> <li>Uma Inst\u00e2ncia de Item pode estar contida por nenhuma ou v\u00e1rias Salas Comuns (0,N).  </li> </ul> </li> <li>Dungeon Acad\u00eamica cont\u00e9m Tema <ul> <li>Uma Dungeon Acad\u00eamica pode conter apenas um tema (1,1).  </li> <li>Um tema pode n\u00e3o estar contido em uma Dungeon e caso tiver, s\u00f3 pode ter um por Dungeon (0,1).  </li> </ul> </li> <li>Dungeon Acad\u00eamica abriga Instancia de Criatura <ul> <li>Uma Dungeon Acad\u00eamica pode abrigar nenhuma instancia de criatura ou v\u00e1rias (0,N).  </li> <li>Uma Instancia de Criatura pode estar contida em nenhuma Dungeon Acad\u00eamica , e, no m\u00ednimo pode ser abrigada uma (0,1).  </li> </ul> </li> <li>Instancia de Criatura gera Monstro <ul> <li>Uma inst\u00e2ncia de criatura pode gerar exatamente um monstro (1,1).  </li> <li>Um monstro pode ser gerado por nenhuma ou v\u00e1rias inst\u00e2ncias de criaturas (0,N).  </li> </ul> </li> <li>Criatura domina Habilidade <ul> <li>Uma Criatura pode dominar uma ou v\u00e1rias habilidades(1,N).  </li> <li>Uma Habilidade pode ser dominada cpor nenhuma ou v\u00e1rias criaturas(0,N).</li> </ul> </li> <li>Habilidades cont\u00e9m Tema <ul> <li>Uma habilidade cont\u00e9m um tema (1,1).</li> <li>Um tema n\u00e3o precisa estar contido em uma habilidade, ou pode estar contido em v\u00e1rias(0,N).</li> </ul> </li> <li>Estudante est\u00e1 em sala comum <ul> <li>Um estudante pode estar inserido em uma sala ou no m\u00e1ximo uma sala (1,1).</li> <li>Uma sala pode conter nenhum estudante ou no m\u00e1ximo v\u00e1rios estudantes (0,N).</li> </ul> </li> <li>Estudante domina habilidades <ul> <li>Um estudante possui no m\u00ednimo um e no m\u00e1ximo v\u00e1rias Habilidades. (1,N).</li> <li>Uma Habilidade pode ser possu\u00edda por no m\u00ednimo nenhum e no m\u00e1ximo v\u00e1rios estudantes (0,N).</li> </ul> </li> <li>Estudante cont\u00e9m Instancia de item <ul> <li>Um estudante pode possuir no m\u00ednimo nenhuma instancia de item, e no m\u00e1ximo v\u00e1rias (0,N).</li> <li>Uma instancia de item pode conter no m\u00ednimo nenhum estudante e no m\u00e1ximo um (0,1).</li> </ul> </li> <li>Sala Comum conecta Sala Comum <ul> <li>Uma sala comum pode conectar exatamente uma sala anterior a ela(1,1)  </li> <li>Uma sala comum pode conectar exatamente uma sala pr\u00f3xima a ela(1,1) </li> </ul> </li> <li>Inst\u00e2ncia de item \u00e9 gerada por item <ul> <li>Uma inst\u00e2ncia de item pode gerar no m\u00ednimo um item, e no m\u00e1ximo apenas um item (1,1).</li> <li>Um item pode ser gerado por nenhuma inst\u00e2ncia de item e no m\u00e1ximo varias (0,N).</li> </ul> </li> <li>Rel\u00edquia dropada por Boss <ul> <li>Uma rel\u00edquia pode ser dropada por no m\u00ednimo um boss e no m\u00e1ximo v\u00e1rios boss (1,N).</li> <li>Um boss pode dropar uma rel\u00edquia (1,1).</li> </ul> </li> <li>Monetario dropa monstro simples <ul> <li>Um monetario pode dropar nenhuma monstro simples e no m\u00e1ximo v\u00e1rios(0,N).  </li> <li>Um monstro simples pode ser dropado por nenhum monetario e no m\u00e1ximo v\u00e1rios(0,N).  </li> </ul> </li> <li>Estudante ataca Instancia de Criatura <ul> <li>Um estudante pode batalhar com no m\u00ednimo zero e no m\u00e1ximo v\u00e1rias instancias de criaturas (0,N).  </li> <li>Uma instancia de criatura pode atacar com no m\u00ednimo zero e no m\u00e1ximo um estudante (0,1).</li> </ul> </li> <li>Estudante aprende afinidade <ul> <li>Um estudante pode aprender no m\u00ednimo cinco afinidades e no m\u00e1ximo cinco afinidades (5,5). </li> <li>Uma afinidade pode ser aprendida no m\u00ednimo por nenhum estudante e no m\u00e1ximo por v\u00e1rios estudantes (0,N).</li> </ul> </li> </ol> Vers\u00e3o Data Descri\u00e7\u00e3o Autor <code>1.0</code> 01/05/2025 Cria\u00e7\u00e3o do documento MER Rodrigo Amaral &amp; Milena Marques <code>2.0</code> 02/05/2025 Fazendo corre\u00e7\u00f5es no MER Milena Marques <code>3.0</code> 12/06/2025 Atualiza\u00e7\u00e3o do MER Milena Marques"},{"location":"entrega1/relacionamentov1/","title":"Modelo Relacional","text":"<p>O Modelo Relacional (MREL) representa logicamente como as entidades e seus relacionamentos ser\u00e3o estruturados no banco de dados. Esse modelo \u00e9 independente de qualquer Sistema de Gerenciamento de Banco de Dados (SGBD), ou seja, n\u00e3o est\u00e1 vinculado a uma tecnologia espec\u00edfica.</p>"},{"location":"entrega1/relacionamentov1/#entrega-1","title":"Entrega 1","text":""},{"location":"entrega1/relacionamentov1/#v1","title":"V1","text":""},{"location":"entrega1/relacionamentov1/#v2","title":"V2","text":""},{"location":"entrega1/relacionamentov1/#v3","title":"V3","text":""},{"location":"entrega1/relacionamentov1/#atualizacoes-da-entrega-2","title":"Atualiza\u00e7\u00f5es da Entrega 2","text":""},{"location":"entrega1/relacionamentov1/#v4","title":"V4","text":""},{"location":"entrega1/relacionamentov1/#v5","title":"V5","text":""},{"location":"entrega1/relacionamentov1/#atualizacoes-da-entrega-3","title":"Atualiza\u00e7\u00f5es da Entrega 3","text":""},{"location":"entrega1/relacionamentov1/#v6","title":"V6","text":"Vers\u00e3o Data Descri\u00e7\u00e3o Autor <code>1.0</code> 01/05/2025 Cria\u00e7\u00e3o do documento MR Rodrigo Amaral &amp; Milena Marques <code>1.1</code> 02/05/2025 Adicionando v2 do MR Rodrigo Amaral &amp; Milena Marques <code>1.2</code> 02/05/2025 Adicionando v3 do MR Rodrigo Amaral &amp; Milena Marques <code>1.3</code> 11/06/2025 Adicionando v4 do MR Isaque Camargos, Rafael Welz &amp; Ludmila Nunes <code>1.4</code> 04/07/2025 Adicionando v5 do MR Ludmila Nunes"},{"location":"entrega1/video1/","title":"V\u00eddeo entrega 1","text":"<p>Este documento contem o v\u00eddeo da apresenta\u00e7\u00e3o da entrega 1. </p> Vers\u00e3o Data Descri\u00e7\u00e3o Autor <code>1.0</code> 02/05/2025 Cria\u00e7\u00e3o do documento do v\u00eddeo Isaque Camargos"},{"location":"entrega2/ddl/","title":"DDL","text":"<p>DDL (Data Definition Language) \u00e9 uma parte da linguagem SQL usada para definir e modificar a estrutura dos objetos no banco de dados, como tabelas, \u00edndices e restri\u00e7\u00f5es. Abaixo est\u00e3o as defini\u00e7\u00f5es de tabelas utilizadas no banco de dados.</p>"},{"location":"entrega2/ddl/#tema","title":"tema","text":"<pre><code>CREATE TABLE tema (\n    id_tema INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\n    nome CHAR(100) NOT NULL CHECK(nome IN ('Matem\u00e1tica', 'Programa\u00e7\u00e3o', 'Engenharias', 'Gerais', 'Humanidades'))\n);\n</code></pre>"},{"location":"entrega2/ddl/#tipohabilidade","title":"tipoHabilidade","text":"<pre><code>CREATE TABLE tipoHabilidade (\n    id_habilidade INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\n    tipo_habilidade CHAR(10) NOT NULL CHECK(tipo_habilidade IN ('ataque', 'cura', 'defesa'))\n\n);\n</code></pre>"},{"location":"entrega2/ddl/#tipo_criatura","title":"tipo_criatura","text":"<pre><code>CREATE TABLE tipo_criatura (\n    id_criatura INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\n    tipo_criatura CHAR(10) NOT NULL CHECK(tipo_criatura IN ('Monstro', 'Boss'))\n\n);\n</code></pre>"},{"location":"entrega2/ddl/#campus","title":"campus","text":"<pre><code>CREATE TABLE campus (\n    id_campus INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\n    nome CHAR(100) NOT NULL,\n    descricao CHAR(255) NOT NULL\n);\n</code></pre>"},{"location":"entrega2/ddl/#setor","title":"setor","text":"<pre><code>CREATE TABLE setor (\n    id_setor INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\n    id_campus INT NOT NULL,\n    nome CHAR(100) NOT NULL,\n    descricao CHAR(255) NOT NULL,\n    id_proxSetor INT,\n    id_prevSetor INT,\n    CONSTRAINT fk_id_campus FOREIGN KEY (id_campus) REFERENCES campus(id_campus),\n    CONSTRAINT fk_id_proxSetor FOREIGN KEY (id_proxSetor) REFERENCES setor(id_setor),\n    CONSTRAINT fk_id_prevSetor FOREIGN KEY (id_prevSetor) REFERENCES setor(id_setor)\n);\n</code></pre>"},{"location":"entrega2/ddl/#sala_comum","title":"sala_comum","text":"<pre><code>CREATE TABLE sala_comum (\n    id_sala INT GENERATED ALWAYS AS IDENTITY,\n    id_setor INT NOT NULL,\n    id_prevSala INT,\n    id_proxSala INT,\n    descricao CHAR(255) NOT NULL,\n    nome CHAR(100) NOT NULL,\n    tem_loja BOOLEAN NOT NULL,\n    tem_dungeon BOOLEAN NOT NULL,\n    UNIQUE (id_sala),\n    PRIMARY KEY (id_sala, id_setor),\n    CONSTRAINT fk_id_setor FOREIGN KEY (id_setor) REFERENCES setor(id_setor),\n    CONSTRAINT fk_id_prevSala FOREIGN KEY (id_prevSala) REFERENCES sala_comum(id_sala),\n    CONSTRAINT fk_id_proxSala FOREIGN KEY (id_proxSala) REFERENCES sala_comum(id_sala)\n);\n</code></pre>"},{"location":"entrega2/ddl/#estudante","title":"estudante","text":"<pre><code>CREATE TABLE estudante (\n    id_estudante INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\n    nome CHAR(100) NOT NULL,\n    vida INT NOT NULL,\n    estresse INT NOT NULL,\n    total_dinheiro INT NOT NULL,\n    id_sala INT NOT NULL,\n    CONSTRAINT fk_id_sala FOREIGN KEY (id_sala) REFERENCES sala_comum(id_sala)\n);\n</code></pre>"},{"location":"entrega2/ddl/#afinidade","title":"afinidade","text":"<pre><code>CREATE TABLE afinidade (\n    id_estudante INT NOT NULL,\n    id_tema INT NOT NULL,\n    xp_atual INT NOT NULL,\n    nivel_atual INT NOT NULL,\n    PRIMARY KEY (id_estudante, id_tema),\n    CONSTRAINT fk_estudante FOREIGN KEY (id_estudante) REFERENCES estudante(id_estudante),\n    CONSTRAINT fk_tema FOREIGN KEY (id_tema) REFERENCES tema(id_tema)\n);\n</code></pre>"},{"location":"entrega2/ddl/#dungeon_academica","title":"dungeon_academica","text":"<pre><code>CREATE TABLE dungeon_academica (\n    id_dungeon INT NOT NULL PRIMARY KEY,\n    nome CHAR(100) NOT NULL,\n    descricao CHAR(255) NOT NULL,\n    id_tema INT NOT NULL,\n    CONSTRAINT fk_id_dungeon FOREIGN KEY (id_dungeon) REFERENCES sala_comum(id_sala),\n    CONSTRAINT fk_id_tema FOREIGN KEY (id_tema) REFERENCES tema(id_tema)\n);\n</code></pre>"},{"location":"entrega2/ddl/#tipo_item","title":"tipo_item","text":"<pre><code>CREATE TABLE tipo_item (\n    id_item INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\n    item_tipo CHAR(10) CHECK (item_tipo IN ('Consum\u00edvel', 'Equip\u00e1vel', 'Monet\u00e1rio', 'Rel\u00edquia'))\n);\n</code></pre>"},{"location":"entrega2/ddl/#reliquia","title":"reliquia","text":"<pre><code>CREATE TABLE reliquia (\n    id_reliquia INT NOT NULL PRIMARY KEY,\n    nome CHAR(100) NOT NULL,\n    descricao CHAR(255) NOT NULL,\n    tipo_reliquia CHAR(100) NOT NULL,\n    CONSTRAINT fk_id_reliquia FOREIGN KEY (id_reliquia) REFERENCES tipo_item(id_item)\n);\n</code></pre>"},{"location":"entrega2/ddl/#boss","title":"boss","text":"<pre><code>CREATE TABLE boss (\n    id_criatura INT NOT NULL PRIMARY KEY,\n    id_reliquia INT NOT NULL,\n    nome CHAR(100) NOT NULL,\n    descricao CHAR(255) NOT NULL,\n    nivel INT NOT NULL,\n    vida_max INT NOT NULL,\n\n    CONSTRAINT fk_id_criatura FOREIGN KEY (id_criatura) REFERENCES tipo_criatura(id_criatura),\n    CONSTRAINT fk_reliquia FOREIGN KEY (id_reliquia) REFERENCES reliquia(id_reliquia)\n);\n</code></pre>"},{"location":"entrega2/ddl/#monstro_simples","title":"monstro_simples","text":"<pre><code>CREATE TABLE monstro_simples (\n    id_criatura INT NOT NULL PRIMARY KEY,\n    nome CHAR(100) NOT NULL,\n    descricao CHAR(255) NOT NULL,\n    nivel INT NOT NULL,\n    vida_max INT NOT NULL,\n    xp_tema INT NOT NULL,\n    qtd_moedas INT NOT NULL CHECK (qtd_moedas &gt;= 0),\n\n    CONSTRAINT fk_id_criatura FOREIGN KEY (id_criatura) REFERENCES tipo_criatura(id_criatura)\n);\n</code></pre>"},{"location":"entrega2/ddl/#instancia_de_criatura","title":"instancia_de_criatura","text":"<pre><code>CREATE TABLE instancia_de_criatura (\n    id_instanciaCriatura INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\n    id_criatura INT NOT NULL,\n    vida_atual INT NOT NULL,\n    id_dungeon INT NOT NULL,\n    CONSTRAINT fk_criatura FOREIGN KEY (id_criatura) REFERENCES tipo_criatura(id_criatura),\n    CONSTRAINT fk_dungeon FOREIGN KEY (id_dungeon) REFERENCES dungeon_academica(id_dungeon)\n);\n</code></pre>"},{"location":"entrega2/ddl/#consumivel","title":"consumivel","text":"<pre><code>CREATE TABLE consumivel (\n    id_item INT NOT NULL PRIMARY KEY,\n    nome CHAR(100) NOT NULL,\n    descricao CHAR(255) NOT NULL,\n    efeito FLOAT NOT NULL,\n    preco FLOAT NOT NULL,\n    CONSTRAINT fk_id_item FOREIGN KEY (id_item) REFERENCES tipo_item(id_item)\n);\n</code></pre>"},{"location":"entrega2/ddl/#equipavel","title":"equipavel","text":"<pre><code>CREATE TABLE equipavel (\n    id_item INT NOT NULL PRIMARY KEY,\n    nome CHAR(100) NOT NULL,\n    descricao CHAR(255) NOT NULL,\n    efeito INT NOT NULL,\n    preco INT NOT NULL,\n    CONSTRAINT fk_id_item FOREIGN KEY (id_item) REFERENCES tipo_item(id_item)\n);\n</code></pre>"},{"location":"entrega2/ddl/#monetario","title":"monetario","text":"<pre><code>CREATE TABLE monetario (\n    id_item INT NOT NULL PRIMARY KEY,\n    nome CHAR(100) NOT NULL,\n    descricao CHAR(255) NOT NULL,\n    valor INT NOT NULL,\n    CONSTRAINT fk_id_item FOREIGN KEY (id_item) REFERENCES tipo_item(id_item)\n);\n</code></pre>"},{"location":"entrega2/ddl/#loja_item","title":"loja_item","text":"<pre><code>CREATE TABLE loja_item (\n    id_sala INT NOT NULL,\n    id_item INT NOT NULL,\n    PRIMARY KEY (id_sala, id_item),\n    CONSTRAINT fk_sala FOREIGN KEY (id_sala) REFERENCES sala_comum(id_sala),\n    CONSTRAINT fk_item FOREIGN KEY (id_item) REFERENCES tipo_item(id_item)\n);\n</code></pre>"},{"location":"entrega2/ddl/#habilidade_criatura","title":"habilidade_criatura","text":"<pre><code>CREATE TABLE habilidade_criatura (\n    id_criatura INT NOT NULL,\n    id_habilidade INT NOT NULL,\n    PRIMARY KEY (id_criatura, id_habilidade),\n    CONSTRAINT fk_criatura FOREIGN KEY (id_criatura) REFERENCES tipo_criatura(id_criatura),\n    CONSTRAINT fk_habilidade FOREIGN KEY (id_habilidade) REFERENCES tipoHabilidade(id_habilidade)\n);\n</code></pre>"},{"location":"entrega2/ddl/#habilidade_estudante","title":"habilidade_estudante","text":"<pre><code>CREATE TABLE habilidade_estudante (\n    id_estudante INT NOT NULL,\n    id_habilidade INT NOT NULL,\n    PRIMARY KEY (id_estudante, id_habilidade),\n    CONSTRAINT fk_estudante FOREIGN KEY (id_estudante) REFERENCES estudante(id_estudante),\n    CONSTRAINT fk_habilidade FOREIGN KEY (id_habilidade) REFERENCES tipoHabilidade(id_habilidade)\n);\n</code></pre>"},{"location":"entrega2/ddl/#habilidade_loja","title":"habilidade_loja","text":"<pre><code>CREATE TABLE habilidade_loja (\n    id_loja INT NOT NULL,\n    id_habilidade INT NOT NULL,\n    PRIMARY KEY (id_loja, id_habilidade),\n    CONSTRAINT fk_loja FOREIGN KEY (id_loja) REFERENCES sala_comum(id_sala),\n    CONSTRAINT fk_habilidade FOREIGN KEY (id_habilidade) REFERENCES tipoHabilidade(id_habilidade)\n);\n</code></pre>"},{"location":"entrega2/ddl/#instancia_de_item","title":"instancia_de_item","text":"<pre><code>CREATE TABLE instancia_de_item (\n    id_instanciaItem INT GENERATED ALWAYS AS IDENTITY,\n    id_item INT NOT NULL,\n    id_sala INT,\n    id_estudante INT,\n    PRIMARY KEY (id_instanciaItem, id_item),\n    CONSTRAINT fk_id_item FOREIGN KEY (id_item) REFERENCES tipo_item(id_item),\n    CONSTRAINT fk_id_sala FOREIGN KEY (id_sala) REFERENCES sala_comum(id_sala),\n    CONSTRAINT fk_id_estudante FOREIGN KEY (id_estudante) REFERENCES estudante(id_estudante)\n);\n\nALTER TABLE instancia_de_item\nADD COLUMN equipado BOOLEAN DEFAULT FALSE;\n</code></pre>"},{"location":"entrega2/ddl/#ataque","title":"Ataque","text":"<pre><code>CREATE TABLE Ataque (\n    id_habilidade INT NOT NULL PRIMARY KEY,\n    id_tema INT NOT NULL,\n    nome CHAR(100) NOT NULL,\n    nivel INT NOT NULL,\n    coolDown INT NOT NULL,\n    danoCausado INT NOT NULL,\n    preco INT NOT NULL,  -- &lt;&lt;-- COLUNA ADICIONADA\n    CONSTRAINT fk_habilidade FOREIGN KEY (id_habilidade) REFERENCES tipoHabilidade(id_habilidade),\n    CONSTRAINT fk_id_tema FOREIGN KEY (id_tema) REFERENCES tema(id_tema)\n);\n</code></pre>"},{"location":"entrega2/ddl/#cura","title":"Cura","text":"<pre><code>CREATE TABLE Cura (\n    id_habilidade INT NOT NULL PRIMARY KEY,\n    id_tema INT NOT NULL,\n    nome CHAR(100) NOT NULL,\n    nivel INT NOT NULL,\n    coolDown INT NOT NULL,\n    vidaRecuperada INT NOT NULL,\n    preco INT NOT NULL,  -- &lt;&lt;-- COLUNA ADICIONADA\n    CONSTRAINT fk_id_habilidade FOREIGN KEY (id_habilidade) REFERENCES tipoHabilidade(id_habilidade),\n    CONSTRAINT fk_id_tema FOREIGN KEY (id_tema) REFERENCES tema(id_tema)\n);\n</code></pre>"},{"location":"entrega2/ddl/#defesa","title":"Defesa","text":"<pre><code>CREATE TABLE Defesa (\n    id_habilidade INT NOT NULL PRIMARY KEY,\n    id_tema INT NOT NULL,\n    nome CHAR(100) NOT NULL,\n    nivel INT NOT NULL,\n    coolDown INT NOT NULL,\n    danoMitigado INT NOT NULL,\n    preco INT NOT NULL,  -- &lt;&lt;-- COLUNA ADICIONADA\n    CONSTRAINT fk_id_habilidade FOREIGN KEY (id_habilidade) REFERENCES tipoHabilidade(id_habilidade),\n    CONSTRAINT fk_id_tema FOREIGN KEY (id_tema) REFERENCES tema(id_tema)\n);\n</code></pre>"},{"location":"entrega2/ddl/#historico-de-versoes","title":"Hist\u00f3rico de Vers\u00f5es","text":"Vers\u00e3o Data Descri\u00e7\u00e3o Autor 1.0 31/05/2025 Inclus\u00e3o das tabelas do banco de dados Milena Marques 2.0 07/07/2025 Colocando a vers\u00e3o final das tabelas Isaque Camargos"},{"location":"entrega2/dml/","title":"DML","text":"<p>DML (Data Manipulation Language) \u00e9 a parte da linguagem SQL usada para inserir, atualizar, deletar e manipular dados dentro das tabelas de um banco de dados.</p> <p>Neste contexto, o script <code>DML.sql</code> foi utilizado para popular o banco de dados com dados iniciais, simulando um ambiente completo de um RPG acad\u00eamico baseado em temas universit\u00e1rios da Universidade de Bras\u00edlia (UnB);</p>"},{"location":"entrega2/dml/#operacoes-realizadas","title":"Opera\u00e7\u00f5es realizadas","text":""},{"location":"entrega2/dml/#insercoes-na-tabela-tema","title":"Inser\u00e7\u00f5es na tabela tema","text":"<pre><code>-- Populando tabela 'tema' \nINSERT INTO tema (nome) VALUES\n('Matem\u00e1tica'),\n('Programa\u00e7\u00e3o'),\n('Engenharias'),\n('Humanidades'),\n('Gerais');\n</code></pre>"},{"location":"entrega2/dml/#insercoes-de-tipohabilidade-e-ataque","title":"Inser\u00e7\u00f5es de tipoHabilidade\u00a0e\u202fAtaque","text":"<pre><code>-- Populando 'tipoHabilidade' e 'Ataque'\n-- Habilidades de Matem\u00e1tica\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 1\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (1, 1, 'Equa\u00e7\u00e3o Quadr\u00e1tica', 5, 2, 15, 40);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 2\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (2, 1, 'Teorema de Pit\u00e1goras', 8, 3, 20, 60);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 3\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (3, 1, 'C\u00e1lculo Integral', 15, 5, 30, 105);\n-- Habilidades de Programa\u00e7\u00e3o\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 4\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (4, 2, 'Bug Report', 6, 2, 16, 46);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 5\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (5, 2, 'Debug R\u00e1pido', 10, 3, 22, 72);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 6 \nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (6, 2, 'Zero Division', 18, 6, 35, 125);\n-- Habilidades de Engenharias\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 7\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (7, 3, 'Desenho T\u00e9cnico', 7, 2, 18, 53);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 8\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (8, 3, 'An\u00e1lise Estrutural', 12, 4, 25, 85);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 9\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (9, 3, 'Falha de Projeto', 17, 5, 32, 117);\n-- Habilidades de Humanidades\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 10\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (10, 4, 'Ret\u00f3rica Persuasiva', 5, 2, 14, 39);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 11\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (11, 4, 'Cr\u00edtica Social', 9, 3, 19, 64);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 12\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (12, 4, 'Argumento Irrefut\u00e1vel', 16, 5, 28, 108);\n-- Habilidades Gerais\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 13\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (13, 5, 'Ataque B\u00e1sico', 1, 1, 8, 13);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('ataque'); -- ID 14\nINSERT INTO Ataque (id_habilidade, id_tema, nome, nivel, coolDown, danoCausado, preco) VALUES (14, 5, 'Estudo Avan\u00e7ado', 10, 4, 20, 70);\n</code></pre>"},{"location":"entrega2/dml/#insercoes-de-tipohabilidade-e-cura","title":"Inser\u00e7\u00f5es de tipoHabilidade\u00a0e\u202fCura","text":"<pre><code>-- Populando 'tipoHabilidade' e 'Cura'\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('cura'); -- ID 15\nINSERT INTO Cura (id_habilidade, id_tema, nome, nivel, coolDown, vidaRecuperada, preco) VALUES (15, 1, 'Revis\u00e3o de Conceitos', 4, 3, 10, 30);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('cura'); -- ID 16\nINSERT INTO Cura (id_habilidade, id_tema, nome, nivel, coolDown, vidaRecuperada, preco) VALUES (16, 2, 'Stack Overflow', 5, 3, 12, 37);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('cura'); -- ID 17\nINSERT INTO Cura (id_habilidade, id_tema, nome, nivel, coolDown, vidaRecuperada, preco) VALUES (17, 3, 'Reparo de Circuito', 6, 3, 11, 41);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('cura'); -- ID 18\nINSERT INTO Cura (id_habilidade, id_tema, nome, nivel, coolDown, vidaRecuperada, preco) VALUES (18, 4, 'Sess\u00e3o de Terapia', 4, 3, 9, 29);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('cura'); -- ID 19\nINSERT INTO Cura (id_habilidade, id_tema, nome, nivel, coolDown, vidaRecuperada, preco) VALUES (19, 5, 'Curativo Simples', 1, 1, 5, 10);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('cura'); -- ID 20\nINSERT INTO Cura (id_habilidade, id_tema, nome, nivel, coolDown, vidaRecuperada, preco) VALUES (20, 5, 'Pausa para o Caf\u00e9', 7, 2, 15, 50);\n</code></pre>"},{"location":"entrega2/dml/#insercoes-de-tipohabilidade-e-defesa","title":"Inser\u00e7\u00f5es de tipoHabilidade\u00a0e\u202fDefesa","text":"<pre><code>-- Populando 'tipoHabilidade' e 'Defesa'\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('defesa'); -- ID 21\nINSERT INTO Defesa (id_habilidade, id_tema, nome, nivel, coolDown, danoMitigado, preco) VALUES (21, 1, 'Defesa Num\u00e9rica', 7, 2, 10, 45);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('defesa'); -- ID 22\nINSERT INTO Defesa (id_habilidade, id_tema, nome, nivel, coolDown, danoMitigado, preco) VALUES (22, 2, 'Firewall Pessoal', 9, 2, 13, 58);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('defesa'); -- ID 23\nINSERT INTO Defesa (id_habilidade, id_tema, nome, nivel, coolDown, danoMitigado, preco) VALUES (23, 3, 'Material Resistente', 8, 2, 11, 51);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('defesa'); -- ID 24\nINSERT INTO Defesa (id_habilidade, id_tema, nome, nivel, coolDown, danoMitigado, preco) VALUES (24, 4, 'Escudo Cultural', 7, 2, 9, 44);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('defesa'); -- ID 25\nINSERT INTO Defesa (id_habilidade, id_tema, nome, nivel, coolDown, danoMitigado, preco) VALUES (25, 5, 'Corrida R\u00e1pida', 2, 1, 7, 17);\nINSERT INTO tipoHabilidade (tipo_habilidade) VALUES ('defesa'); -- ID 26\nINSERT INTO Defesa (id_habilidade, id_tema, nome, nivel, coolDown, danoMitigado, preco) VALUES (26, 5, 'Concentra\u00e7\u00e3o Total', 11, 3, 14, 69);\n</code></pre>"},{"location":"entrega2/dml/#insercoes-na-tabela-tipo_item","title":"Inser\u00e7\u00f5es na tabela tipo_item","text":"<pre><code>-- Populando 'tipo_item'\nINSERT INTO tipo_item (item_tipo) VALUES\n('Rel\u00edquia'), ('Rel\u00edquia'), ('Rel\u00edquia'), ('Rel\u00edquia'), ('Rel\u00edquia'), -- IDs 1-5\n('Consum\u00edvel'), ('Consum\u00edvel'), ('Consum\u00edvel'), ('Consum\u00edvel'), ('Consum\u00edvel'), -- IDs 6-10\n('Equip\u00e1vel'), ('Equip\u00e1vel'), ('Equip\u00e1vel'), -- IDs 11-13\n('Monet\u00e1rio'), ('Monet\u00e1rio'); -- IDs 14-15\n</code></pre>"},{"location":"entrega2/dml/#insercoes-na-tabela-reliquia","title":"Inser\u00e7\u00f5es na tabela reliquia","text":"<pre><code>-- Populando 'reliquia'\nINSERT INTO reliquia (id_reliquia, nome, descricao, tipo_reliquia) VALUES\n(1, 'C\u00e1lculo Infinito', 'Rel\u00edquia do tema Matem\u00e1tica', 'C\u00e1lculo Infinito'),\n(2, 'C\u00f3digo Fonte Universal', 'Rel\u00edquia do tema Programa\u00e7\u00e3o', 'C\u00f3digo Fonte Universal'),\n(3, 'Projeto Mestre', 'Rel\u00edquia do tema Engenharias', 'Projeto Mestre'),\n(4, 'Sabedoria Ancestral', 'Rel\u00edquia do tema Humanidades', 'Sabedoria Ancestral'),\n(5, 'Conhecimento Geral Abrangente', 'Rel\u00edquia do tema Gerais', 'Conhecimento Geral Abrangente');\n</code></pre>"},{"location":"entrega2/dml/#insercoes-de-tipo_criatura-e-monstro_simples","title":"Inser\u00e7\u00f5es de tipo_criatura\u00a0e\u202fmonstro_simples","text":"<pre><code>-- Populando 'tipo_criatura' e 'monstro_simples'\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Monstro'); -- ID 1\nINSERT INTO monstro_simples (id_criatura, nome, descricao, nivel, vida_max, xp_tema, qtd_moedas) VALUES (1, 'Erro de Sintaxe', 'Um pequeno erro que atrapalha o c\u00f3digo.', 3, 30, 5, 2);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Monstro'); -- ID 2\nINSERT INTO monstro_simples (id_criatura, nome, descricao, nivel, vida_max, xp_tema, qtd_moedas) VALUES (2, 'Derivada Confusa', 'Uma fun\u00e7\u00e3o matem\u00e1tica que parece n\u00e3o ter fim.', 5, 45, 7, 3);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Monstro'); -- ID 3\nINSERT INTO monstro_simples (id_criatura, nome, descricao, nivel, vida_max, xp_tema, qtd_moedas) VALUES (3, 'Pl\u00e1gio Descarado', 'Uma amea\u00e7a \u00e0 originalidade acad\u00eamica.', 7, 60, 9, 4);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Monstro'); -- ID 4\nINSERT INTO monstro_simples (id_criatura, nome, descricao, nivel, vida_max, xp_tema, qtd_moedas) VALUES (4, 'Fio Solto', 'Um defeito simples em uma instala\u00e7\u00e3o el\u00e9trica.', 4, 35, 6, 2);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Monstro'); -- ID 5\nINSERT INTO monstro_simples (id_criatura, nome, descricao, nivel, vida_max, xp_tema, qtd_moedas) VALUES (5, 'Pregui\u00e7a Matinal', 'A for\u00e7a que impede o estudante de levantar.', 6, 50, 8, 3);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Monstro'); -- ID 6\nINSERT INTO monstro_simples (id_criatura, nome, descricao, nivel, vida_max, xp_tema, qtd_moedas) VALUES (6, 'Loop Infinito', 'Um programa que nunca termina.', 9, 70, 12, 5);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Monstro'); -- ID 7\nINSERT INTO monstro_simples (id_criatura, nome, descricao, nivel, vida_max, xp_tema, qtd_moedas) VALUES (7, 'Paradoxo L\u00f3gico', 'Um problema que desafia a raz\u00e3o.', 11, 85, 15, 6);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Monstro'); -- ID 8\nINSERT INTO monstro_simples (id_criatura, nome, descricao, nivel, vida_max, xp_tema, qtd_moedas) VALUES (8, 'Teoria da Conspira\u00e7\u00e3o', 'Uma narrativa sem evid\u00eancias, mas persistente.', 13, 100, 18, 7);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Monstro'); -- ID 9\nINSERT INTO monstro_simples (id_criatura, nome, descricao, nivel, vida_max, xp_tema, qtd_moedas) VALUES (9, 'Solda Fria', 'Uma conex\u00e3o mal feita que causa instabilidade.', 10, 75, 13, 5);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Monstro'); -- ID 10\nINSERT INTO monstro_simples (id_criatura, nome, descricao, nivel, vida_max, xp_tema, qtd_moedas) VALUES (10, 'Distra\u00e7\u00e3o Coletiva', 'O inimigo de toda sess\u00e3o de estudos.', 8, 65, 10, 4);\n</code></pre>"},{"location":"entrega2/dml/#insercoes-de-tipo_criatura-e-boss","title":"Inser\u00e7\u00f5es de tipo_criatura\u00a0e\u202fboss","text":"<pre><code>-- Populando 'tipo_criatura' e 'boss'\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Boss'); -- ID 11\nINSERT INTO boss (id_criatura, nome, descricao, nivel, vida_max, id_reliquia) VALUES (11, 'Chic\u00e3o', 'G\u00eameo maligno que nega todas as matriculas.', 20, 200, 1);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Boss'); -- ID 12\nINSERT INTO boss (id_criatura, nome, descricao, nivel, vida_max, id_reliquia) VALUES (12, 'Frango assado do RU', 'Vai te dar uma intoxica\u00e7\u00e3o alimentar, pois est\u00e1 sempre cru.', 20, 250, 2);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Boss'); -- ID 13\nINSERT INTO boss (id_criatura, nome, descricao, nivel, vida_max, id_reliquia) VALUES (13, 'Superlota\u00e7\u00e3o', 'Esse curso n\u00e3o precisa de mais uma aluno...', 20, 260, 4);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Boss'); -- ID 14\nINSERT INTO boss (id_criatura, nome, descricao, nivel, vida_max, id_reliquia) VALUES (14, 'Thinkpad do mocap', '\u00c9 um ser ancestral que vai travar quando vc menos esperar.', 20, 230, 3);\nINSERT INTO tipo_criatura (tipo_criatura) VALUES ('Boss'); -- ID 15\nINSERT INTO boss (id_criatura, nome, descricao, nivel, vida_max, id_reliquia) VALUES (15, 'Mauricio me d\u00e1 SS', 'Isso mesmo, esse boss sempre d\u00e1 SS aos alunos, em troca da sua alma, aceitas?.', 20, 190, 5);\n</code></pre>"},{"location":"entrega2/dml/#insercoes-na-tabela-campus","title":"Inser\u00e7\u00f5es na tabela campus","text":"<pre><code>-- Populando tabela 'campus'\nINSERT INTO campus (nome, descricao) VALUES\n('UnB Campus Gama', 'O cora\u00e7\u00e3o da jornada acad\u00eamica do RPG-FGA.');\n</code></pre>"},{"location":"entrega2/dml/#insercoes-e-atualizacoes-da-tabela-setor","title":"Inser\u00e7\u00f5es e\u00a0atualiza\u00e7\u00f5es da tabela setor","text":"<pre><code>-- Populando tabela 'setor'\nINSERT INTO setor (id_campus, nome, descricao) VALUES \n(1, 'UED', 'Unidade de Ensino \u00e0 Dist\u00e2ncia, com laborat\u00f3rios e salas de professores.'),\n(1, 'Containers', 'Setor de laborat\u00f3rios espec\u00edficos, constru\u00eddos em containers.'),\n(1, 'UAC', 'Unidade Acad\u00eamica Central, com salas numeradas.'),\n(1, 'Refeit\u00f3rio Universit\u00e1rio', 'Local de alimenta\u00e7\u00e3o e descanso para os estudantes.'),\n(1, 'Estacionamento', '\u00c1rea externa para ve\u00edculos e um espa\u00e7o de lazer.'),\n(1, 'LDTEA', 'Laborat\u00f3rio de Desenho T\u00e9cnico e Express\u00e3o Art\u00edstica.');\n\n-- Atualiza id_proxSetor e id_prevSetor\nUPDATE setor SET id_proxSetor = 2, id_prevSetor = 6 WHERE id_setor = 1;\nUPDATE setor SET id_proxSetor = 3, id_prevSetor = 1 WHERE id_setor = 2;\nUPDATE setor SET id_proxSetor = 4, id_prevSetor = 2 WHERE id_setor = 3;\nUPDATE setor SET id_proxSetor = 5, id_prevSetor = 3 WHERE id_setor = 4;\nUPDATE setor SET id_proxSetor = 6, id_prevSetor = 4 WHERE id_setor = 5;\nUPDATE setor SET id_proxSetor = 1, id_prevSetor = 5 WHERE id_setor = 6;\n</code></pre>"},{"location":"entrega2/dml/#geracao-de-salas-sala_comum-bloco-do","title":"Gera\u00e7\u00e3o de salas (sala_comum)\u00a0\u2013 bloco\u00a0DO","text":"<pre><code>-- Populando tabela 'sala_comum' com l\u00f3gica de dungeon corrigida\nDO $$\nDECLARE\n    i INT;\n    sector_id INT;\n    room_count INT := 10;\n    shop_assigned BOOLEAN;\n    prev_room_id INT;\n\n    -- L\u00f3gica para garantir no m\u00e1ximo 5 dungeons, uma por setor\n    dungeon_sectors INT[];\n    dungeon_room_number INT;\nBEGIN\n    -- Seleciona 5 setores aleat\u00f3rios para receber uma dungeon\n    SELECT ARRAY(\n        SELECT id_setor FROM setor ORDER BY random() LIMIT 5\n    ) INTO dungeon_sectors;\n\n    FOR sector_id IN 1..6 LOOP\n        shop_assigned := FALSE;\n        prev_room_id := NULL;\n\n        -- Sorteia em qual sala do setor a dungeon ser\u00e1 colocada, caso o setor seja um dos escolhidos\n        dungeon_room_number := floor(random() * room_count + 1);\n\n        FOR i IN 1..room_count LOOP\n            DECLARE\n                room_name CHAR(100);\n                room_desc CHAR(255);\n                has_shop BOOLEAN := FALSE;\n                has_dungeon BOOLEAN := FALSE;\n                current_room_id INT;\n            BEGIN\n                IF NOT shop_assigned AND i = 1 THEN\n                    has_shop := TRUE;\n                    shop_assigned := TRUE;\n                ELSE\n                    has_shop := (random() &lt; 0.3);\n                END IF;\n\n                IF sector_id = ANY(dungeon_sectors) AND i = dungeon_room_number THEN\n                    has_dungeon := TRUE;\n                END IF;\n\n                CASE sector_id\n                    WHEN 1 THEN room_name := 'Laborat\u00f3rio de Redes ' || i; room_desc := 'Um laborat\u00f3rio de inform\u00e1tica focado em redes.';\n                    WHEN 2 THEN room_name := 'Laborat\u00f3rio de IoT ' || i; room_desc := 'Um laborat\u00f3rio modular para projetos de Internet das Coisas.';\n                    WHEN 3 THEN room_name := 'Sala S-' || i; room_desc := 'Uma sala de aula padr\u00e3o do UAC.';\n                    WHEN 4 THEN room_name := 'Mesa ' || i; room_desc := 'Uma mesa no refeit\u00f3rio, ideal para uma refei\u00e7\u00e3o r\u00e1pida.';\n                    WHEN 5 THEN room_name := 'Lote E-' || i; room_desc := 'Um dos lotes do estacionamento do campus.';\n                    WHEN 6 THEN room_name := 'Laborat\u00f3rio de Prot\u00f3tipos ' || i; room_desc := 'Um laborat\u00f3rio para cria\u00e7\u00e3o de prot\u00f3tipos e maquetes.';\n                END CASE;\n\n                INSERT INTO sala_comum (id_setor, id_prevSala, nome, descricao, tem_loja, tem_dungeon) VALUES\n                (sector_id, prev_room_id, room_name, room_desc, has_shop, has_dungeon)\n                RETURNING id_sala INTO current_room_id;\n\n                IF prev_room_id IS NOT NULL THEN\n                    UPDATE sala_comum SET id_proxSala = current_room_id WHERE id_sala = prev_room_id;\n                END IF;\n                prev_room_id := current_room_id;\n            END;\n        END LOOP;\n\n        IF prev_room_id IS NOT NULL THEN\n            DECLARE\n                first_room_id INT;\n            BEGIN\n                SELECT id_sala INTO first_room_id FROM sala_comum WHERE id_setor = sector_id ORDER BY id_sala ASC LIMIT 1;\n                UPDATE sala_comum SET id_proxSala = first_room_id WHERE id_sala = prev_room_id;\n                UPDATE sala_comum SET id_prevSala = prev_room_id WHERE id_sala = first_room_id;\n            END;\n        END IF;\n    END LOOP;\nEND $$;\n</code></pre>"},{"location":"entrega2/dml/#insercoes-na-tabela-estudante","title":"Inser\u00e7\u00f5es na tabela estudante","text":"<pre><code>-- Populando tabela 'estudante'\nINSERT INTO estudante (nome, vida, estresse, total_dinheiro, id_sala) VALUES\n('Alice Dev', 20, 20, 10, (SELECT id_sala FROM sala_comum WHERE id_setor = 1 ORDER BY id_sala LIMIT 1)),\n('L\u00e9o Eng', 20, 20, 10, (SELECT id_sala FROM sala_comum WHERE id_setor = 2 ORDER BY id_sala LIMIT 1)),\n('Carlos Mat', 20, 20, 10, (SELECT id_sala FROM sala_comum WHERE id_setor = 3 ORDER BY id_sala LIMIT 1)),\n('Diana Hum', 20, 20, 10, (SELECT id_sala FROM sala_comum WHERE id_setor = 4 ORDER BY id_sala LIMIT 1)),\n('Eduardo G', 20, 20, 10, (SELECT id_sala FROM sala_comum WHERE id_setor = 5 ORDER BY id_sala LIMIT 1));\n</code></pre>"},{"location":"entrega2/dml/#insercoes-na-tabela-afinidade","title":"Inser\u00e7\u00f5es na tabela afinidade","text":"<pre><code>-- Populando tabela 'afinidade'\nINSERT INTO afinidade (id_estudante, id_tema, xp_atual, nivel_atual) VALUES\n(1, 1, 0, 1), (1, 2, 0, 1), (1, 3, 0, 1), (1, 4, 0, 1), (1, 5, 0, 1),\n(2, 1, 0, 1), (2, 2, 0, 1), (2, 3, 0, 1), (2, 4, 0, 1), (2, 5, 0, 1),\n(3, 1, 0, 1), (3, 2, 0, 1), (3, 3, 0, 1), (3, 4, 0, 1), (3, 5, 0, 1),\n(4, 1, 0, 1), (4, 2, 0, 1), (4, 3, 0, 1), (4, 4, 0, 1), (4, 5, 0, 1),\n(5, 1, 0, 1), (5, 2, 0, 1), (5, 3, 0, 1), (5, 4, 0, 1), (5, 5, 0, 1);\n</code></pre>"},{"location":"entrega2/dml/#insercoes-nas-tabelas-consumivel-equipavel-e-monetario","title":"Inser\u00e7\u00f5es nas tabelas consumivel, equipavel\u202fe\u202fmonetario","text":"<pre><code>-- Populando 'consumivel'\nINSERT INTO consumivel (id_item, nome, descricao, efeito, preco) VALUES\n(6, 'Caf\u00e9 Expresso', 'Recupera um pouco de estresse e te d\u00e1 energia.', 5.0, 3.0),\n(7, 'Barra de Cereal', 'Um lanche r\u00e1pido para restaurar a vitalidade.', 10.0, 5.0),\n(8, 'Comprimido Analg\u00e9sico', 'Alivia dores de cabe\u00e7a e ajuda a focar.', 7.0, 4.0),\n(9, 'Guaran\u00e1 Natural', 'Aumenta sua vida por um curto per\u00edodo.', 15.0, 8.0),\n(10, 'Chocolate Acad\u00eamico', 'Melhora o humor e a concentra\u00e7\u00e3o.', 12.0, 6.0);\n\n-- Populando 'equipavel'\nINSERT INTO equipavel (id_item, nome, descricao, efeito, preco) VALUES\n(11, '\u00d3culos de Leitura Avan\u00e7ada', 'Aumenta sua vida m\u00e1xima permanentemente.', 10, 50),\n(12, 'Mochila de Estudo', 'Permite carregar mais itens.', 5, 30),\n(13, 'T\u00eanis Confort\u00e1vel', 'Aumenta sua capacidade de fuga em combate.', 2, 40);\n\n-- Populando 'monetario'\nINSERT INTO monetario (id_item, nome, descricao, valor) VALUES\n(14, 'Moeda Acad\u00eamica', 'A moeda corrente do campus.', 1),\n(15, 'Ficha de RU', 'Pode ser trocada por refei\u00e7\u00f5es.', 5);\n</code></pre>"},{"location":"entrega2/dml/#insercoes-na-tabela-dungeon_academica","title":"Inser\u00e7\u00f5es na tabela dungeon_academica","text":"<pre><code>-- Populando tabela 'dungeon_academica'\nWITH dungeon_salas AS (\n    SELECT id_sala, ROW_NUMBER() OVER (ORDER BY id_sala) as rn\n    FROM sala_comum\n    WHERE tem_dungeon = TRUE\n)\nINSERT INTO dungeon_academica (id_dungeon, nome, descricao, id_tema) VALUES\n((SELECT id_sala FROM dungeon_salas WHERE rn = 1), 'Matem\u00e1tica Qu\u00e2ntica', 'Uma dungeon onde os n\u00fameros se comportam de maneira imprevis\u00edvel.', 1),\n((SELECT id_sala FROM dungeon_salas WHERE rn = 2), 'Labirinto de C\u00f3digos', 'Um ambiente complexo cheio de algoritmos e fun\u00e7\u00f5es enigm\u00e1ticas.', 2),\n((SELECT id_sala FROM dungeon_salas WHERE rn = 3), 'Fundi\u00e7\u00e3o de Ideias', 'Um lugar onde projetos complexos ganham vida.', 3),\n((SELECT id_sala FROM dungeon_salas WHERE rn = 4), 'Debate Filos\u00f3fico', 'Um sal\u00e3o onde as ideias se chocam e a ret\u00f3rica \u00e9 a principal arma.', 4),\n((SELECT id_sala FROM dungeon_salas WHERE rn = 5), 'O Grande Audit\u00f3rio', 'Um local de conhecimento vasto e diversificado.', 5);\n</code></pre>"},{"location":"entrega2/dml/#instanciacao-de-criaturas-na-dungeon-bloco-do","title":"Instancia\u00e7\u00e3o de criaturas na dungeon \u2013 bloco\u00a0DO","text":"<pre><code>DO $$\nDECLARE\n    dungeon_rec RECORD;\n    monster_rec RECORD;\nBEGIN\n    FOR dungeon_rec IN SELECT id_dungeon, id_tema FROM dungeon_academica LOOP\n        -- Seleciona 10 monstros aleat\u00f3rios do mesmo tema da dungeon\n        FOR monster_rec IN\n            SELECT ms.id_criatura, ms.vida_max\n            FROM monstro_simples ms\n            WHERE mod(ms.id_criatura, 5) + 1 = dungeon_rec.id_tema\n            ORDER BY random()\n            LIMIT 10\n        LOOP\n            INSERT INTO instancia_de_criatura (id_criatura, vida_atual, id_dungeon)\n            VALUES (monster_rec.id_criatura, monster_rec.vida_max, dungeon_rec.id_dungeon);\n        END LOOP;\n    END LOOP;\nEND $$;\n</code></pre>"},{"location":"entrega2/dml/#insercoes-na-tabela-loja_item-bloco-do","title":"Inser\u00e7\u00f5es na tabela loja_item \u2013 bloco\u00a0DO","text":"<pre><code>-- Populando tabela 'loja_item'\nDO $$\nDECLARE\n    shop_sala_id INT;\n    consumivel_id INT;\nBEGIN\n    FOR shop_sala_id IN (SELECT id_sala FROM sala_comum WHERE tem_loja = TRUE) LOOP\n        FOR consumivel_id IN (SELECT id_item FROM consumivel ORDER BY random() LIMIT 3) LOOP\n            INSERT INTO loja_item (id_sala, id_item) VALUES (shop_sala_id, consumivel_id);\n        END LOOP;\n    END LOOP;\nEND $$;\n</code></pre>"},{"location":"entrega2/dml/#insercoes-na-tabela-habilidade_criatura","title":"Inser\u00e7\u00f5es na tabela habilidade_criatura","text":"<pre><code>-- Populando tabela 'habilidade_criatura'\nINSERT INTO habilidade_criatura (id_criatura, id_habilidade) VALUES\n-- Monstros Simples\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Erro de Sintaxe'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Bug Report')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Erro de Sintaxe'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Ataque B\u00e1sico')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Derivada Confusa'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Equa\u00e7\u00e3o Quadr\u00e1tica')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Derivada Confusa'), (SELECT id_habilidade FROM Defesa WHERE nome = 'Defesa Num\u00e9rica')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Pl\u00e1gio Descarado'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Ret\u00f3rica Persuasiva')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Pl\u00e1gio Descarado'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Cr\u00edtica Social')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Fio Solto'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Desenho T\u00e9cnico')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Fio Solto'), (SELECT id_habilidade FROM Defesa WHERE nome = 'Material Resistente')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Pregui\u00e7a Matinal'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Ataque B\u00e1sico')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Pregui\u00e7a Matinal'), (SELECT id_habilidade FROM Cura WHERE nome = 'Pausa para o Caf\u00e9')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Loop Infinito'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Debug R\u00e1pido')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Loop Infinito'), (SELECT id_habilidade FROM Defesa WHERE nome = 'Firewall Pessoal')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Paradoxo L\u00f3gico'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Teorema de Pit\u00e1goras')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Paradoxo L\u00f3gico'), (SELECT id_habilidade FROM Defesa WHERE nome = 'Defesa Num\u00e9rica')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Teoria da Conspira\u00e7\u00e3o'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Cr\u00edtica Social')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Teoria da Conspira\u00e7\u00e3o'), (SELECT id_habilidade FROM Defesa WHERE nome = 'Escudo Cultural')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Solda Fria'), (SELECT id_habilidade FROM Ataque WHERE nome = 'An\u00e1lise Estrutural')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Solda Fria'), (SELECT id_habilidade FROM Cura WHERE nome = 'Reparo de Circuito')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Distra\u00e7\u00e3o Coletiva'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Estudo Avan\u00e7ado')),\n((SELECT id_criatura FROM monstro_simples WHERE nome = 'Distra\u00e7\u00e3o Coletiva'), (SELECT id_habilidade FROM Cura WHERE nome = 'Sess\u00e3o de Terapia')),\n-- Bosses\n((SELECT id_criatura FROM boss WHERE nome = 'Chic\u00e3o'), (SELECT id_habilidade FROM Ataque WHERE nome = 'C\u00e1lculo Integral')),\n((SELECT id_criatura FROM boss WHERE nome = 'Chic\u00e3o'), (SELECT id_habilidade FROM Defesa WHERE nome = 'Defesa Num\u00e9rica')),\n((SELECT id_criatura FROM boss WHERE nome = 'Chic\u00e3o'), (SELECT id_habilidade FROM Cura WHERE nome = 'Revis\u00e3o de Conceitos')),\n((SELECT id_criatura FROM boss WHERE nome = 'Frango assado do RU'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Zero Division')),\n((SELECT id_criatura FROM boss WHERE nome = 'Frango assado do RU'), (SELECT id_habilidade FROM Defesa WHERE nome = 'Firewall Pessoal')),\n((SELECT id_criatura FROM boss WHERE nome = 'Frango assado do RU'), (SELECT id_habilidade FROM Cura WHERE nome = 'Stack Overflow')),\n((SELECT id_criatura FROM boss WHERE nome = 'Superlota\u00e7\u00e3o'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Argumento Irrefut\u00e1vel')),\n((SELECT id_criatura FROM boss WHERE nome = 'Superlota\u00e7\u00e3o'), (SELECT id_habilidade FROM Defesa WHERE nome = 'Escudo Cultural')),\n((SELECT id_criatura FROM boss WHERE nome = 'Superlota\u00e7\u00e3o'), (SELECT id_habilidade FROM Cura WHERE nome = 'Sess\u00e3o de Terapia')),\n((SELECT id_criatura FROM boss WHERE nome = 'Thinkpad do mocap'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Falha de Projeto')),\n((SELECT id_criatura FROM boss WHERE nome = 'Thinkpad do mocap'), (SELECT id_habilidade FROM Defesa WHERE nome = 'Material Resistente')),\n((SELECT id_criatura FROM boss WHERE nome = 'Thinkpad do mocap'), (SELECT id_habilidade FROM Cura WHERE nome = 'Reparo de Circuito')),\n((SELECT id_criatura FROM boss WHERE nome = 'Mauricio me d\u00e1 SS'), (SELECT id_habilidade FROM Ataque WHERE nome = 'Estudo Avan\u00e7ado')),\n((SELECT id_criatura FROM boss WHERE nome = 'Mauricio me d\u00e1 SS'), (SELECT id_habilidade FROM Defesa WHERE nome = 'Concentra\u00e7\u00e3o Total')),\n((SELECT id_criatura FROM boss WHERE nome = 'Mauricio me d\u00e1 SS'), (SELECT id_habilidade FROM Cura WHERE nome = 'Pausa para o Caf\u00e9'));\n</code></pre>"},{"location":"entrega2/dml/#insercoes-na-tabela-habilidade_estudante","title":"Inser\u00e7\u00f5es na tabela habilidade_estudante","text":"<pre><code>-- Populando tabela 'habilidade_estudante'\nINSERT INTO habilidade_estudante (id_estudante, id_habilidade) VALUES\n(1, (SELECT id_habilidade FROM Ataque WHERE nome = 'Ataque B\u00e1sico')),\n(1, (SELECT id_habilidade FROM Defesa WHERE nome = 'Corrida R\u00e1pida')),\n(1, (SELECT id_habilidade FROM Cura WHERE nome = 'Curativo Simples')),\n(2, (SELECT id_habilidade FROM Ataque WHERE nome = 'Ataque B\u00e1sico')),\n(2, (SELECT id_habilidade FROM Defesa WHERE nome = 'Corrida R\u00e1pida')),\n(2, (SELECT id_habilidade FROM Cura WHERE nome = 'Curativo Simples')),\n(3, (SELECT id_habilidade FROM Ataque WHERE nome = 'Ataque B\u00e1sico')),\n(3, (SELECT id_habilidade FROM Defesa WHERE nome = 'Corrida R\u00e1pida')),\n(3, (SELECT id_habilidade FROM Cura WHERE nome = 'Curativo Simples')),\n(4, (SELECT id_habilidade FROM Ataque WHERE nome = 'Ataque B\u00e1sico')),\n(4, (SELECT id_habilidade FROM Defesa WHERE nome = 'Corrida R\u00e1pida')),\n(4, (SELECT id_habilidade FROM Cura WHERE nome = 'Curativo Simples')),\n(5, (SELECT id_habilidade FROM Ataque WHERE nome = 'Ataque B\u00e1sico')),\n(5, (SELECT id_habilidade FROM Defesa WHERE nome = 'Corrida R\u00e1pida')),\n(5, (SELECT id_habilidade FROM Cura WHERE nome = 'Curativo Simples'));\n</code></pre>"},{"location":"entrega2/dml/#insercoes-na-tabela-habilidade_loja-bloco-do","title":"Inser\u00e7\u00f5es na tabela habilidade_loja \u2013 bloco\u00a0DO","text":"<pre><code>-- Populando tabela 'habilidade_loja'\nDO $$\nDECLARE\n    shop_sala_id INT;\n    habilidade_id INT;\nBEGIN\n    FOR shop_sala_id IN (SELECT id_sala FROM sala_comum WHERE tem_loja = TRUE) LOOP\n        FOR habilidade_id IN (SELECT id_habilidade FROM tipoHabilidade ORDER BY random() LIMIT 5) LOOP\n            INSERT INTO habilidade_loja (id_loja, id_habilidade) VALUES (shop_sala_id, habilidade_id);\n        END LOOP;\n    END LOOP;\nEND $$;\n</code></pre>"},{"location":"entrega2/dml/#insercoes-na-tabela-instancia_de_item-bloco-do-extras","title":"Inser\u00e7\u00f5es na tabela instancia_de_item \u2013 bloco\u00a0DO\u00a0+\u00a0extras","text":"<pre><code>-- Populando tabela 'instancia_de_item'\nDO $$\nDECLARE\n    i INT;\n    instance_count INT := 10;\n    random_item_id INT;\n    random_sala_id INT;\n    random_estudante_id INT;\n    v_item_tipo CHAR(10);\n    equipado_val BOOLEAN;\nBEGIN\n    FOR i IN 1..instance_count LOOP\n        SELECT id_item, item_tipo INTO random_item_id, v_item_tipo\n        FROM tipo_item\n        ORDER BY random()\n        LIMIT 1;\n\n        IF v_item_tipo = 'Equip\u00e1vel' THEN\n            equipado_val := FALSE;\n        ELSE\n            equipado_val := NULL;\n        END IF;\n\n        SELECT id_sala INTO random_sala_id FROM sala_comum ORDER BY random() LIMIT 1;\n        SELECT id_estudante INTO random_estudante_id FROM estudante ORDER BY random() LIMIT 1;\n\n        IF random() &gt; 0.5 THEN\n            INSERT INTO instancia_de_item (id_item, id_sala, id_estudante, equipado)\n            VALUES (random_item_id, random_sala_id, NULL, equipado_val);\n        ELSE\n            INSERT INTO instancia_de_item (id_item, id_sala, id_estudante, equipado)\n            VALUES (random_item_id, NULL, random_estudante_id, equipado_val);\n        END IF;\n    END LOOP;\nEND $$;\n\nINSERT INTO instancia_de_item (id_item, id_sala, id_estudante, equipado) VALUES \n        (11, NULL, 4, FALSE),\n        (12, NULL, 4, TRUE);\n</code></pre>"},{"location":"entrega2/dml/#historico-de-versoes","title":"Hist\u00f3rico de Vers\u00f5es","text":"Vers\u00e3o Data Descri\u00e7\u00e3o Autor 1.0 12/06/2025 Carga inicial de dados no sistema Rodrigo Amaral 2.0 07/07/2025 Edi\u00e7\u00e3o da carga inicial de dados no sistema para a vers\u00e3o final Isaque Camargos"},{"location":"entrega2/dql/","title":"DQL","text":"<p>DQL (Data Query Language) \u00e9 uma parte da linguagem SQL (Structured Query Language) usada para consultar dados de um banco de dados. O objetivo principal do DQL \u00e9 recuperar ou consultar informa\u00e7\u00f5es armazenadas nas tabelas do banco de dados.</p>"},{"location":"entrega2/dql/#consultas-que-serao-utilizadas","title":"Consultas que ser\u00e3o utilizadas","text":""},{"location":"entrega2/dql/#scriptsjogocombate","title":"scripts/jogo/combate","text":""},{"location":"entrega2/dql/#mainpy","title":"main.py","text":""},{"location":"entrega2/dql/#habilidades-do-estudante","title":"Habilidades do estudante","text":"<pre><code>SELECT he.id_habilidade,\n       th.tipo_habilidade,\n       COALESCE(a.nome, c.nome, d.nome) AS nome,\n       COALESCE(a.nivel, c.nivel, d.nivel) AS nivel,\n       COALESCE(a.coolDown, c.coolDown, d.coolDown) AS cooldown,\n       a.danoCausado,\n       c.vidaRecuperada,\n       d.danoMitigado,\n       t.nome AS tema\nFROM habilidade_estudante he\nJOIN tipoHabilidade th ON he.id_habilidade = th.id_habilidade\nLEFT JOIN Ataque a ON he.id_habilidade = a.id_habilidade\nLEFT JOIN Cura c ON he.id_habilidade = c.id_habilidade\nLEFT JOIN Defesa d ON he.id_habilidade = d.id_habilidade\nJOIN tema t ON COALESCE(a.id_tema, c.id_tema, d.id_tema) = t.id_tema\nWHERE he.id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#habilidades-da-criatura","title":"Habilidades da criatura","text":"<pre><code>SELECT hc.id_habilidade,\n       th.tipo_habilidade,\n       COALESCE(a.nome, c.nome, d.nome) AS nome,\n       COALESCE(a.nivel, c.nivel, d.nivel) AS nivel,\n       COALESCE(a.coolDown, c.coolDown, d.coolDown) AS cooldown,\n       a.danoCausado,\n       c.vidaRecuperada,\n       d.danoMitigado,\n       t.nome AS tema\nFROM habilidade_criatura hc\nJOIN tipoHabilidade th ON hc.id_habilidade = th.id_habilidade\nLEFT JOIN Ataque a ON hc.id_habilidade = a.id_habilidade\nLEFT JOIN Cura c ON hc.id_habilidade = c.id_habilidade\nLEFT JOIN Defesa d ON hc.id_habilidade = d.id_habilidade\nJOIN tema t ON COALESCE(a.id_tema, c.id_tema, d.id_tema) = t.id_tema\nWHERE hc.id_criatura = %s\n</code></pre>"},{"location":"entrega2/dql/#vida-atual-do-estudante","title":"Vida atual do estudante","text":"<pre><code>SELECT vida FROM estudante WHERE id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#vida-maxima-da-criatura-monstro-ou-boss","title":"Vida m\u00e1xima da criatura (Monstro\u202fou\u202fBoss)","text":"<pre><code>SELECT vida_max FROM monstro_simples WHERE id_criatura = %s\nUNION\nSELECT vida_max FROM boss WHERE id_criatura = %s\n</code></pre>"},{"location":"entrega2/dql/#scriptsjogomap","title":"scripts/jogo/map","text":""},{"location":"entrega2/dql/#dungeonpy","title":"dungeon.py","text":""},{"location":"entrega2/dql/#detalhes-da-dungeon-na-sala","title":"Detalhes da dungeon na sala","text":"<pre><code>SELECT s.tem_dungeon, d.id_dungeon, d.nome, d.descricao, d.id_tema, t.nome\nFROM sala_comum s\nJOIN dungeon_academica d ON d.id_dungeon = s.id_sala\nJOIN tema t ON d.id_tema = t.id_tema\nWHERE s.id_sala = %s\n</code></pre>"},{"location":"entrega2/dql/#detalhes-do-boss-e-sua-reliquia","title":"Detalhes do boss\u00a0e\u00a0sua\u00a0rel\u00edquia","text":"<pre><code>SELECT b.id_criatura, b.nome, b.descricao, b.nivel, b.vida_max, b.id_reliquia, r.nome\nFROM boss b\nJOIN reliquia r ON b.id_reliquia = r.id_reliquia\nWHERE b.id_criatura = %s\n</code></pre>"},{"location":"entrega2/dql/#verificar-posse-de-reliquia-pelo-estudante","title":"Verificar posse de rel\u00edquia pelo estudante","text":"<pre><code>SELECT 1\nFROM instancia_de_item ii\nJOIN reliquia r ON ii.id_item = r.id_reliquia\nWHERE ii.id_estudante = %s AND r.id_reliquia = %s\nLIMIT 1\n</code></pre>"},{"location":"entrega2/dql/#listar-monstros-instanciados-na-dungeon","title":"Listar monstros instanciados na dungeon","text":"<pre><code>SELECT m.id_criatura, m.nome, m.descricao, m.nivel, m.vida_max,\n       ic.vida_atual, m.qtd_moedas, m.xp_tema\nFROM instancia_de_criatura ic\nJOIN monstro_simples m ON ic.id_criatura = m.id_criatura\nWHERE ic.id_dungeon = %s\n</code></pre>"},{"location":"entrega2/dql/#lojapy","title":"loja.py","text":""},{"location":"entrega2/dql/#consumiveis-disponiveis-na-loja","title":"Consum\u00edveis dispon\u00edveis na loja","text":"<pre><code>SELECT i.id_item, c.nome, c.descricao, c.preco\nFROM loja_item li\nJOIN tipo_item i ON li.id_item = i.id_item\nJOIN consumivel c ON i.id_item = c.id_item\nWHERE li.id_sala = %s\n</code></pre>"},{"location":"entrega2/dql/#habilidades-disponiveis-na-loja","title":"Habilidades dispon\u00edveis na loja","text":"<pre><code>SELECT \n    th.id_habilidade, \n    COALESCE(a.nome, c.nome, d.nome) AS nome,\n    th.tipo_habilidade,\n    COALESCE(a.preco, c.preco, d.preco) AS preco,\n    t.nome AS nome_tema,\n    COALESCE(a.nivel, c.nivel, d.nivel) AS nivel_req,\n    t.id_tema\nFROM habilidade_loja hl\nJOIN tipoHabilidade th ON hl.id_habilidade = th.id_habilidade\nLEFT JOIN Ataque a ON hl.id_habilidade = a.id_habilidade\nLEFT JOIN Cura c ON hl.id_habilidade = c.id_habilidade\nLEFT JOIN Defesa d ON hl.id_habilidade = d.id_habilidade\nLEFT JOIN tema t ON COALESCE(a.id_tema, c.id_tema, d.id_tema) = t.id_tema\nWHERE hl.id_loja = %s\n</code></pre>"},{"location":"entrega2/dql/#nivel-de-afinidade-do-estudante","title":"N\u00edvel de afinidade do estudante","text":"<pre><code>SELECT nivel_atual FROM afinidade WHERE id_estudante = %s AND id_tema = %s\n</code></pre>"},{"location":"entrega2/dql/#verificar-se-estudante-ja-possui-a-habilidade","title":"Verificar se estudante j\u00e1 possui a habilidade","text":"<pre><code>SELECT 1 FROM habilidade_estudante WHERE id_estudante = %s AND id_habilidade = %s\n</code></pre>"},{"location":"entrega2/dql/#verificar-se-a-sala-possui-loja","title":"Verificar se a sala possui loja","text":"<pre><code>SELECT tem_loja FROM sala_comum WHERE id_sala = %s\n</code></pre>"},{"location":"entrega2/dql/#salapy","title":"sala.py","text":""},{"location":"entrega2/dql/#sala-atual-do-estudante","title":"Sala atual do estudante","text":"<pre><code>SELECT id_sala FROM estudante WHERE id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#salas-adjacentes-anterior-proxima","title":"Salas adjacentes (anterior\u202f/\u202fpr\u00f3xima)","text":"<pre><code>SELECT s.id_sala, s.nome, s.descricao, c.nome as campus\nFROM sala_comum s\nJOIN setor st ON s.id_setor = st.id_setor\nJOIN campus c ON st.id_campus = c.id_campus\nWHERE s.id_sala IN (\n    SELECT id_prevSala FROM sala_comum WHERE id_sala = %s\n    UNION\n    SELECT id_proxSala FROM sala_comum WHERE id_sala = %s\n)\nORDER BY s.id_sala\n</code></pre>"},{"location":"entrega2/dql/#nome-do-estudante-e-da-sala","title":"Nome do estudante e da sala","text":"<pre><code>SELECT e.nome, s.nome\nFROM Estudante e\nJOIN Sala_Comum s ON e.id_sala = s.id_sala\nWHERE e.id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#nome-da-sala","title":"Nome da sala","text":"<pre><code>SELECT nome FROM Sala_Comum WHERE id_sala = %s\n</code></pre>"},{"location":"entrega2/dql/#verificar-presenca-de-dungeon-ou-loja-na-sala","title":"Verificar presen\u00e7a de dungeon ou loja na sala","text":"<pre><code>SELECT tem_dungeon, tem_loja FROM sala_comum WHERE id_sala = %s\n</code></pre>"},{"location":"entrega2/dql/#itens-disponiveis-na-sala-nao-coletados","title":"Itens dispon\u00edveis na sala (n\u00e3o coletados)","text":"<pre><code>SELECT\n    ii.id_instanciaItem,\n    COALESCE(c.nome, e.nome, m.nome) AS nome_item\nFROM instancia_de_item ii\nJOIN tipo_item ti ON ii.id_item = ti.id_item\nLEFT JOIN consumivel c ON ti.id_item = c.id_item\nLEFT JOIN equipavel e ON ti.id_item = e.id_item\nLEFT JOIN monetario m ON ti.id_item = m.id_item\nWHERE ii.id_sala = %s AND ii.id_estudante IS NULL\n</code></pre>"},{"location":"entrega2/dql/#setorpy","title":"setor.py","text":""},{"location":"entrega2/dql/#sala-atual-do-estudante_1","title":"Sala atual do estudante","text":"<pre><code>SELECT id_sala FROM estudante WHERE id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#setor-da-sala","title":"Setor da sala","text":"<pre><code>SELECT id_setor FROM sala_comum WHERE id_sala = %s\n</code></pre>"},{"location":"entrega2/dql/#setores-adjacentes-do-setor-atual","title":"Setores adjacentes do setor atual","text":"<pre><code>SELECT id_prevsetor, id_proxsetor FROM setor WHERE id_setor = %s\n</code></pre>"},{"location":"entrega2/dql/#informacoes-de-multiplos-setores","title":"Informa\u00e7\u00f5es de m\u00faltiplos setores","text":"<pre><code>SELECT id_setor, nome, descricao FROM setor WHERE id_setor = ANY(%s)\n</code></pre>"},{"location":"entrega2/dql/#primeira-sala-do-setor","title":"Primeira sala do setor","text":"<pre><code>SELECT id_sala, nome FROM sala_comum WHERE id_setor = %s ORDER BY id_sala LIMIT 1\n</code></pre>"},{"location":"entrega2/dql/#scriptsjogomonster","title":"scripts/jogo/monster","text":""},{"location":"entrega2/dql/#bosspy","title":"boss.py","text":""},{"location":"entrega2/dql/#boss-instanciado-na-dungeon-detalhes-completos","title":"Boss instanciado na dungeon (detalhes completos)","text":"<pre><code>SELECT\n    b.id_criatura,\n    b.nome,\n    b.descricao,\n    b.nivel,\n    b.vida_max,\n    r.id_reliquia,\n    r.nome AS nome_reliquia,\n    r.descricao AS desc_reliquia,\n    r.tipo_reliquia,\n    ic.id_instanciaCriatura,\n    ic.vida_atual\nFROM instancia_de_criatura ic\nJOIN boss b ON b.id_criatura = ic.id_criatura\nJOIN reliquia r ON r.id_reliquia = b.id_reliquia\nWHERE ic.id_dungeon = %s\nLIMIT 1\n</code></pre>"},{"location":"entrega2/dql/#monsterpy","title":"monster.py","text":""},{"location":"entrega2/dql/#habilidades-da-criatura-genericas","title":"Habilidades da criatura (gen\u00e9ricas)","text":"<pre><code>SELECT\n    hc.id_habilidade,\n    th.tipo_habilidade,\n    COALESCE(a.nome, c.nome, d.nome) AS nome,\n    COALESCE(a.nivel, c.nivel, d.nivel) AS nivel,\n    COALESCE(a.coolDown, c.coolDown, d.coolDown) AS cooldown,\n    a.danoCausado,\n    c.vidaRecuperada,\n    d.danoMitigado,\n    COALESCE(a.id_tema, c.id_tema, d.id_tema) AS id_tema\nFROM habilidade_criatura hc\nJOIN tipoHabilidade th ON hc.id_habilidade = th.id_habilidade\nLEFT JOIN Ataque a ON hc.id_habilidade = a.id_habilidade\nLEFT JOIN Cura c ON hc.id_habilidade = c.id_habilidade\nLEFT JOIN Defesa d ON hc.id_habilidade = d.id_habilidade\nWHERE hc.id_criatura = %s\n</code></pre>"},{"location":"entrega2/dql/#scriptsjogoplayer","title":"scripts/jogo/player","text":""},{"location":"entrega2/dql/#afinidadepy","title":"afinidade.py","text":""},{"location":"entrega2/dql/#afinidades-do-estudante","title":"Afinidades do estudante","text":"<pre><code>SELECT a.id_tema, t.nome AS nome_tema, a.nivel_atual, a.xp_atual\nFROM afinidade a\nJOIN tema t ON a.id_tema = t.id_tema\nWHERE a.id_estudante = %s\nORDER BY a.id_tema\n</code></pre>"},{"location":"entrega2/dql/#consumirpy","title":"consumir.py","text":""},{"location":"entrega2/dql/#efeito-do-consumivel-instanciado","title":"Efeito do consum\u00edvel instanciado","text":"<pre><code>SELECT c.efeito\nFROM instancia_de_item ci\nJOIN consumivel c ON ci.id_item = c.id_item\nWHERE ci.id_instanciaItem = %s\n  AND ci.id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#habilidadespy","title":"habilidades.py","text":""},{"location":"entrega2/dql/#habilidades-do-estudante_1","title":"Habilidades do estudante","text":"<pre><code>SELECT\n    he.id_habilidade,\n    th.tipo_habilidade,\n    COALESCE(a.nome, c.nome, d.nome) AS nome,\n    COALESCE(a.nivel, c.nivel, d.nivel) AS nivel,\n    COALESCE(a.coolDown, c.coolDown, d.coolDown) AS cooldown,\n    a.danoCausado,\n    c.vidaRecuperada,\n    d.danoMitigado,\n    tm.nome AS nome_tema\nFROM habilidade_estudante he\nJOIN tipoHabilidade th ON he.id_habilidade = th.id_habilidade\nLEFT JOIN Ataque a ON he.id_habilidade = a.id_habilidade\nLEFT JOIN Cura c ON he.id_habilidade = c.id_habilidade\nLEFT JOIN Defesa d ON he.id_habilidade = d.id_habilidade\nLEFT JOIN tema tm ON COALESCE(a.id_tema, c.id_tema, d.id_tema) = tm.id_tema\nWHERE he.id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#inventariopy","title":"inventario.py","text":""},{"location":"entrega2/dql/#consumiveis-do-estudante","title":"Consum\u00edveis do estudante","text":"<pre><code>SELECT ci.id_instanciaItem,\n       c.nome AS nome_item,\n       c.descricao,\n       c.efeito,\n       c.preco\nFROM instancia_de_item ci\nJOIN consumivel c ON ci.id_item = c.id_item\nWHERE ci.id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#equipaveis-do-estudante","title":"Equip\u00e1veis do estudante","text":"<pre><code>SELECT ei.id_instanciaItem,\n       e.nome AS nome_item,\n       e.descricao,\n       e.efeito,\n       e.preco,\n       ei.equipado\nFROM instancia_de_item ei\nJOIN equipavel e ON ei.id_item = e.id_item\nWHERE ei.id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#reliquias-do-estudante","title":"Rel\u00edquias do estudante","text":"<pre><code>SELECT ri.id_instanciaItem,\n       r.nome AS nome_reliquia,\n       r.descricao,\n       r.tipo_reliquia\nFROM instancia_de_item ri\nJOIN reliquia r ON ri.id_item = r.id_reliquia\nWHERE ri.id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#itens-monetarios-do-estudante","title":"Itens monet\u00e1rios do estudante","text":"<pre><code>SELECT mi.id_instanciaItem,\n       m.nome AS nome_item,\n       m.descricao,\n       m.valor\nFROM instancia_de_item mi\nJOIN monetario m ON mi.id_item = m.id_item\nWHERE mi.id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#menupy","title":"menu.py","text":""},{"location":"entrega2/dql/#status-do-estudante-e-sua-sala","title":"Status do estudante e sua sala","text":"<pre><code>SELECT e.nome, e.vida, e.estresse, e.total_dinheiro, s.nome AS nome_sala, e.id_sala\nFROM estudante e\nJOIN sala_comum s ON e.id_sala = s.id_sala\nWHERE e.id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#scriptsjogo","title":"scripts/jogo","text":""},{"location":"entrega2/dql/#debug_menupy","title":"debug_menu.py","text":""},{"location":"entrega2/dql/#salas-com-dungeon","title":"Salas com dungeon","text":"<pre><code>SELECT s.id_sala, s.nome, st.nome AS nome_setor\nFROM sala_comum s\nJOIN setor st ON s.id_setor = st.id_setor\nWHERE s.tem_dungeon = TRUE\nORDER BY s.id_sala\n</code></pre>"},{"location":"entrega2/dql/#salas-com-loja","title":"Salas com loja","text":"<pre><code>SELECT s.id_sala, s.nome, st.nome AS nome_setor\nFROM sala_comum s\nJOIN setor st ON s.id_setor = st.id_setor\nWHERE s.tem_loja = TRUE\nORDER BY s.id_sala\n</code></pre>"},{"location":"entrega2/dql/#salas-com-itens-disponiveis-quantidade","title":"Salas com itens dispon\u00edveis (quantidade)","text":"<pre><code>SELECT s.id_sala, s.nome, COUNT(ii.id_instanciaItem) AS quantidade_itens\nFROM sala_comum s\nJOIN instancia_de_item ii ON s.id_sala = ii.id_sala\nWHERE ii.id_estudante IS NULL\nGROUP BY s.id_sala, s.nome\nORDER BY s.id_sala\n</code></pre>"},{"location":"entrega2/dql/#estudantes-e-suas-localizacoes","title":"Estudantes e suas localiza\u00e7\u00f5es","text":"<pre><code>SELECT\n    e.nome AS nome_jogador,\n    s.nome AS nome_sala,\n    st.nome AS nome_setor\nFROM estudante e\nJOIN sala_comum s ON e.id_sala = s.id_sala\nJOIN setor st ON s.id_setor = st.id_setor\nORDER BY e.id_estudante\n</code></pre>"},{"location":"entrega2/dql/#relacionar-salas-que-possuem-dungeon","title":"Relacionar salas que possuem dungeon","text":"<pre><code>SELECT\n    s.id_sala,\n    s.nome AS nome_sala,\n    d.nome AS nome_dungeon,\n    t.nome AS nome_tema\nFROM\n    sala_comum s\nJOIN\n    dungeon_academica d ON d.id_dungeon = s.id_sala\nJOIN\n    tema t ON d.id_tema = t.id_tema\nORDER BY\n    s.id_sala\n</code></pre>"},{"location":"entrega2/dql/#scripts","title":"scripts","text":""},{"location":"entrega2/dql/#apppy","title":"app.py","text":""},{"location":"entrega2/dql/#listar-todos-os-estudantes","title":"Listar todos os estudantes","text":"<pre><code>SELECT id_estudante, nome FROM estudante ORDER BY id_estudante\n</code></pre>"},{"location":"entrega2/dql/#status-do-estudante-e-sua-sala_1","title":"Status do estudante e sua sala","text":"<pre><code>SELECT e.nome, e.vida, e.estresse, e.total_dinheiro, s.nome AS nome_sala, e.id_sala\nFROM estudante e\nJOIN sala_comum s ON e.id_sala = s.id_sala\nWHERE e.id_estudante = %s\n</code></pre>"},{"location":"entrega2/dql/#temppy","title":"temp.py","text":""},{"location":"entrega2/dql/#todas-as-dungeons-e-suas-salas","title":"Todas as dungeons e suas salas","text":"<pre><code>SELECT s.id_sala, s.nome AS nome_sala, d.nome AS nome_dungeon, d.descricao\nFROM sala_comum s\nJOIN dungeon_academica d ON s.id_sala = d.id_dungeon\nORDER BY s.id_sala\n</code></pre>"},{"location":"entrega2/dql/#historico-de-versoes","title":"Hist\u00f3rico de Vers\u00f5es","text":"Vers\u00e3o Data Descri\u00e7\u00e3o Autor <code>1.0</code> 12/06/2025 Cria\u00e7\u00e3o das consultas Ludmila Nunes &amp; Isaque Camargos <code>2.0</code> 07/07/2025 Consultas finais Ludmila Nunes &amp; Isaque Camargos"},{"location":"entrega2/historia/","title":"1. Objetivo Principal:","text":"<p>Coletar todas rel\u00edquias acad\u00eamicas para concluir o jogo. S\u00e3o ao total 5 rel\u00edquias, cada uma dropada de um chef\u00e3o espec\u00edfico.</p>"},{"location":"entrega2/historia/#2-estrutura-geral-do-campus-mapa","title":"2. Estrutura geral do campus (MAPA).","text":"<ul> <li>Campus:  </li> <li> <p>Setores:   </p> <ul> <li>UED;  </li> <li>UAC;   </li> <li>Graminha;   </li> <li>Refeit\u00f3rio Universit\u00e1rio;  </li> <li>Containers;  </li> <li>Formatura (exclusivo final)</li> </ul> </li> <li> <p>Dentro dos Setores:  </p> </li> <li> <p>Salas comuns:   </p> <ul> <li>Loja;  </li> <li>Dungeon Acad\u00eamica</li> </ul> </li> <li> <p>Dungeon Acad\u00eamica com:  </p> </li> <li>Boss tem\u00e1tico:  </li> <li>Monstros tem\u00e1ticos;</li> </ul> <p>Setores espalhados pelo campus, ao total, 6 setores.</p>"},{"location":"entrega2/historia/#3-estudante","title":"3. Estudante.","text":"<p>O estudante \u00e9 o personagem control\u00e1vel do jogo, cada jogador ter\u00e1 seu estudante, que carregar\u00e1 os seguintes atributos.</p> <ul> <li>Nome;  </li> <li>ID;  </li> <li>Pontos de Vida;  </li> <li>Pontos de Estresse;  </li> <li>Cat\u00e1logo de habilidades;  </li> <li>\u201cInvent\u00e1rio\u201d;  </li> <li>Afinidades com os temas.</li> </ul> <p>O estudante poder\u00e1 entrar em combate contra as criaturas, e utilizar\u00e1 de suas habilidades para derrot\u00e1-las. Al\u00e9m do combate, haver\u00e1 \u00e1rea de explora\u00e7\u00e3o para a coleta e compra de itens que o ajudar\u00e3o na jornada. A compra dos itens ser\u00e1 feita atrav\u00e9s de moedas, do qual, poder\u00e1 ser encontrada pelo mapa ou dropadas de monstros simples.</p> <p>3.1. Sistema de Afinidade.</p> <p>No RPG - FGA, haver\u00e1 um sistema de afinidade para cada estudante, relacionando ele com os 5 temas presentes no jogo. </p> <p>Esse sistema, permite rastrear a evolu\u00e7\u00e3o do estudante em cada \u00e1rea, possibilitando-o de evoluir de forma parelha ou focar apenas um tema, se quiser, se adaptando a forma como cada jogador gosta de jogar.</p> <p>Para cada estudante, haver\u00e1 uma rela\u00e7\u00e3o de afinidade (n\u00edvel) com um tema dentro de jogo. Para evoluir sua afinidade em um determinado tema, \u00e9 necess\u00e1rio conseguir XP daquele tema, tal qual, se consegue derrotando monstros simples dessa tem\u00e1tica.</p> <p>Subir de n\u00edvel em cada tema \u00e9 importante, pois permite a compra e o desbloqueio de novas habilidades, fortalecendo o estudante e aprimorando seu arsenal.</p>"},{"location":"entrega2/historia/#32-itens","title":"3.2. Itens.","text":"<p>Os itens presentes no RPG - FGA, ser\u00e3o de enorme utilidade para ajudar o estudante a cumprir a sua jornada. Haver\u00e1, itens de 4 tipos diferentes.</p> <ul> <li>Consum\u00edveis (Comidas e Itens para recuperar pontos de vida e estresse)  </li> <li>N\u00e3o consum\u00edveis (Itens para auxiliar no combate, aumentando vida m\u00e1xima e etc)  </li> <li>Rel\u00edquias (Drops especiais de bosses, necess\u00e1rias para zerar o jogo)  </li> <li>Monet\u00e1rio (Moedas para realizar comprar e trocas)</li> </ul>"},{"location":"entrega2/historia/#4-sistema-de-habilidades","title":"4. Sistema de Habilidades.","text":"<p>As habilidades ser\u00e3o a ferramenta central do combate dentro do RPG - FGA. Cada monstro e estudante contar\u00e1 com seu pr\u00f3prio cat\u00e1logo de habilidades, que ao longo do jogo, poder\u00e1 ser modificado e ampliado. H\u00e1 3 tipos de habilidades, Ataque - A, Defesa - D e Cura - C. </p> <p>Cada habilidade, al\u00e9m de ser categorizada como \u201cA\u201d, \u201cD\u201d ou \u201cC\u201d, ser\u00e1 tamb\u00e9m categorizada por um \u00fanico tema, sendo estes; (Matem\u00e1tica - M, Programa\u00e7\u00e3o - P, Engenharias - E, Humanidades - H, Gerais - G).</p> <p>As habilidades, em geral, possuem caracter\u00edsticas em comum, como nome, descri\u00e7\u00e3o e cooldown.</p>"},{"location":"entrega2/historia/#41-sistema-de-combate","title":"4.1. Sistema de Combate.","text":"<p>O combate \u00e9 uma das principais mec\u00e2nicas do RPG - FGA, e ser\u00e1 realizado atrav\u00e9s do uso de habilidades e estrat\u00e9gia. O combate ser\u00e1 feito de turnos, e poder\u00e1 ter 3 resultados poss\u00edveis. </p> <ul> <li>Vit\u00f3ria do jogador.  </li> <li>Vit\u00f3ria da criatura.  </li> <li>Fuga do jogador.</li> </ul> <p>No caso da vit\u00f3ria, vence o jogador/criatura que tirar todos os pontos de vida do advers\u00e1rio.</p> <p>A cada turno do combate, o monstro e o jogador v\u00e3o escolher uma habilidade. Segue uma lista dos resultados de cada escolha:</p> <p>Tabela de poss\u00edveis resultados por turno </p> Habilidade do Jogador Habilidade do Monstro Resultado A A Ambos perdem pontos de vida de acordo com a pot\u00eancia de cada ataque. A D Desconta-se do ataque os pontos de defesa, se por um acaso, o resultado desse decr\u00e9scimo for menor ou igual a zero, o ataque \u00e9 anulado completamente. D A Mesma situa\u00e7\u00e3o anterior D D Nada ocorre C C Ambos se curam A C A cura \u00e9 interrompida e o monstro sofre o dano total do ataque. C A A cura \u00e9 interrompida e o jogador sofre o dano total do ataque. D C O monstro se cura C D O jogador se cura <p>Sempre a cada turno, o jogador pode escolher fugir do combate, caso veja que o monstro \u00e9 um n\u00edvel muito avan\u00e7ado para combater.</p> <p>Todo duelo/combate no jogo custa estresse do jogador, mesmo que perca, ganhe ou fuja.</p> <p>Consumo de estresse por situa\u00e7\u00e3o:</p> <ul> <li>Em caso de vit\u00f3ria (baixo)  </li> <li>Em caso de fuga (m\u00e9dio)  </li> <li>Em caso de derrota (alto)</li> </ul> <p>Caso fuja, o jogador ter\u00e1 parte do seu estresse consumido, dependendo do n\u00edvel de diferen\u00e7a entre o monstro e o jogador. Quanto maior seja essa diferen\u00e7a, menor \u00e9 o estresse consumido.</p> <p>Em caso de vit\u00f3ria do jogador, o mesmo ser\u00e1 recompensado com moedas e xp para o tema relacionado com aquela criatura. (Se a criatura for um boss, ser\u00e1 dropada uma rel\u00edquia ao inv\u00e9s de moedas e xp). </p> <p>Por \u00faltimo, em caso de derrota, al\u00e9m de ter muito estresse consumido, perder\u00e1 parte das moedas que carrega com si.</p>"},{"location":"entrega2/historia/#42-sistema-de-eficacia","title":"4.2. Sistema de Efic\u00e1cia.","text":"<p>O sistema de efic\u00e1cia do RPG - FGA \u00e9 respons\u00e1vel por adicionar mais din\u00e2mica no jogo, \u201cbuffando\u201d e \u201cnerfando\u201d habilidades a depender da sua tem\u00e1tica.</p> <p>Resumindo, cada habilidade h\u00e1 um tema associado, e cada tema \u00e9 eficiente, neutro e n\u00e3o-eficiente contra outros temas. Segue o exemplo.</p> <p>Temas presentes dentro do RPG-FGA:</p> <ul> <li>Matem\u00e1tica (M)  </li> <li>Programa\u00e7\u00e3o (P)  </li> <li>Humanidades (H)  </li> <li>Engenharias (E)  </li> <li>Gerais (G)</li> </ul> <p>Tabela dos temas e suas respectivas efici\u00eancias</p> Tema Forte Contra Neutro Fraco Contra Matem\u00e1tica P M, E, G H Programa\u00e7\u00e3o E P, H, G M Humanidades M E, P, H G Engenharias G M, H, E P Gerais H M, P, G E <p>A partir dessa tabela, conseguimos complementar nosso sistema de combate. Al\u00e9m da tabela de resultados dos turnos, agora teremos uma segunda vari\u00e1vel, a \u201cefic\u00e1cia dos temas\u201d. </p> <p>Para cada resultado de turno, ser\u00e1 tamb\u00e9m analisado os temas das habilidades, aplicando um multiplicador no resultado final da habilidade conjurada. </p> <p>Logo, h\u00e1 dois poss\u00edveis casos de combina\u00e7\u00e3o de temas.</p> <ol> <li>Temas \u201copostos\u201d, as habilidades jogadas no turno cont\u00e9m temas opostos, ou seja, fraco ou forte contra.  </li> <li>Temas \u201cneutros\u201d, as habilidades jogadas no turno cont\u00e9m temas neutros, ou seja, temas neutros entre si.</li> </ol> <p>Para o primeiro caso, a habilidade que tiver o tema forte, ser\u00e1 beneficiada de um multiplicador de 1,5x, seja ela de ataque, defesa ou cura. E a habilidade com o tema fraco, ter\u00e1 uma multiplicador de 0,75x em seus atributos.</p> <p>Segue um exemplo.</p> <ul> <li> <p>Suponha que em um turno aleat\u00f3rio, um jogador profira uma habilidade de defesa (20pts), do qual o seu tema \u00e9 de programa\u00e7\u00e3o. E tamb\u00e9m, nesse mesmo turno, um monstro profira um ataque de engenharias (40pts)</p> </li> <li> <p>Pela l\u00f3gica anterior, sem considerar os temas, o ataque tem maior pot\u00eancia que a defesa (40 &gt; 20). Logo, o dano que o jogador sofreria, seria de 20 pts no total, visto que, 40 - 20 \\= 20  </p> </li> <li> <p>Por\u00e9m, como nesse caso, programa\u00e7\u00e3o e engenharias s\u00e3o temas \u201copostos\u201d, nesse caso Programa\u00e7\u00e3o \u00e9 forte contra Engenharias, o multiplicador entrar\u00e1 em vigor, alterando o resultado do turno da seguinte maneira.</p> </li> <li> <p>Defesa (20 pts) [TEMA FORTE]   X     Ataque (40 pts) [TEMA FRACO]  </p> </li> <li>Defesa (20 pts) (1,5x)                     X     Ataque (40 pts) (0,5x)  </li> <li> <p>Defesa (30 pts)                                X     Ataque (30 pts)  </p> </li> <li> <p>Resultado final, 30 - 30 \\= 0, logo, o ataque foi absorvido completamente.</p> </li> <li> <p>(Ressaltando que at\u00e9 para casos de A x C, onde os ataques cancelam a cura, o multiplicador ainda valer\u00e1 caso sejam de temas opostos. Ou seja, mesmo que a cura seja cancelada, e seu tema seja forte contra o ataque realizado, o ataque ainda sofrer\u00e1 de um multiplicador de 0,75x)</p> </li> </ul> <p>Para o segundo caso, n\u00e3o haver\u00e1 multiplicador, e apenas a pot\u00eancia de cada habilidade ser\u00e1 levada em considera\u00e7\u00e3o.</p>"},{"location":"entrega2/historia/#5-criaturas","title":"5. Criaturas.","text":"<p>As criaturas do RPG - FGA podem ser divididas em duas categorias:</p> <ul> <li>Bosses  </li> <li>Monstros Simples</li> </ul> <p>Tanto bosses e monstros simples, cont\u00e9m caracter\u00edsticas comuns, como nome, vida, a dungeon da qual pertence, o seu conjunto de habilidades e etc.</p> <p>A diferen\u00e7a se d\u00e1 no drop deixado e na for\u00e7a de cada um. Monstros simples s\u00e3o mais fracos, possuem habilidades mais iniciais e dropam apenas xp e moeda.</p> <p>J\u00e1 os bosses, al\u00e9m de mais vida e habilidades mais fortes, contam com um drop especial denominado rel\u00edquia. Al\u00e9m de que, cada boss pode ser derrotado apenas uma \u00fanica vez. J\u00e1 os monstros simples, podem ser utilizados para farm.</p>"},{"location":"entrega2/historia/#51-salas-comuns-lojas-e-dungeons-academicas","title":"5.1 Salas Comuns, Lojas e Dungeons Acad\u00eamicas.","text":"<p>As salas comuns estar\u00e3o muito presentes no cen\u00e1rio do RPG - FGA, e fornecer\u00e1 o background de explora\u00e7\u00e3o e compra necess\u00e1rio para o estudante se fortalecer. </p> <p>Cada sala comum, \u00e9 conectada a outras salas comuns, e tamb\u00e9m, \u00e9 pass\u00edvel de conter uma loja e/ou uma dungeon acad\u00eamica dentro delas.</p> <p>As lojas, por sua vez, s\u00e3o respons\u00e1veis por vender itens e habilidades. Tudo que \u00e9 vendido na loja custa moedas, contudo, al\u00e9m de moedas, as habilidades necessitam um n\u00edvel m\u00ednimo do jogador naquela determinada afinidade. </p> <p>(OBS: Nem todos os itens e nem todas as habilidades estar\u00e3o presentes numa loja s\u00f3, fazendo que, o player tenha que visitar outras lojas pelo mapa para achar o que procura)</p> <p>Outro ponto relevante a se firmar, nem todos os itens s\u00e3o pass\u00edveis de compra, apenas os itens consum\u00edveis para efeito imediato. Itens n\u00e3o consum\u00edveis e rel\u00edquias s\u00e3o encontrados de outras maneiras.</p> <p>Finalizando, a dungeon acad\u00eamica \u00e9 a \u00e1rea de contato do jogador com as criaturas. Toda dungeon acad\u00eamica \u00e9 regida por um tema, e esse tema guiar\u00e1 o nascimento das criaturas naquela dungeon. Para cada dungeon acad\u00eamica, existem infinitos monstros simples e apenas um boss.</p> <p>Uma vez que o boss \u00e9 derrotado, a dungeon acad\u00eamica se fecha, e a rel\u00edquia \u00e9 dropada ao jogador, finalizando uma tem\u00e1tica.</p>"},{"location":"entrega2/historia/#historico-de-versoes","title":"Hist\u00f3rico de Vers\u00f5es","text":"Vers\u00e3o Data Descri\u00e7\u00e3o Autor <code>1.0</code> 16/06/2025 Cria\u00e7\u00e3o da hist\u00f3ria e mec\u00e2nicas Rafael Welz"},{"location":"entrega2/video2/","title":"V\u00eddeo entrega 2","text":"<p>Este documento contem o v\u00eddeo da apresenta\u00e7\u00e3o da entrega 2. </p> Vers\u00e3o Data Descri\u00e7\u00e3o Autor <code>1.0</code> 16/06/2025 Cria\u00e7\u00e3o do documento do v\u00eddeo Isaque Camargos"},{"location":"entrega3/triggers_storedprocedures/","title":"Triggers e Procedures no RPG-FGA","text":"<p>Neste sistema de RPG acad\u00eamico, o banco de dados \u00e9 a parte ativa das regras de jogo. Para garantir integridade, automa\u00e7\u00e3o e l\u00f3gica de gameplay, usamos Stored Procedures e Triggers.</p>"},{"location":"entrega3/triggers_storedprocedures/#triggers-regras-automaticas","title":"Triggers: Regras Autom\u00e1ticas","text":"<p>Triggers s\u00e3o blocos de c\u00f3digo que executam automaticamente quando certas a\u00e7\u00f5es acontecem (INSERT, UPDATE, DELETE). Elas s\u00e3o \u00fateis para:</p> <ul> <li>Validar integridade dos dados (ex: sala deve existir antes de cadastrar um estudante)</li> <li>Evitar estados inv\u00e1lidos (ex: uma criatura n\u00e3o pode ser boss e monstro ao mesmo tempo)</li> <li>Aplicar restri\u00e7\u00f5es sem depender do front-end</li> </ul>"},{"location":"entrega3/triggers_storedprocedures/#exemplos","title":"Exemplos:","text":"<ul> <li><code>trg_valida_sala_estudante</code>: impede cadastrar estudante em sala inexistente</li> <li><code>trg_check_criatura_boss</code>: garante unicidade entre boss e monstro</li> <li><code>trg_check_equipado</code>: impede itens n\u00e3o-equip\u00e1veis de serem marcados como \"equipado\"</li> </ul>"},{"location":"entrega3/triggers_storedprocedures/#procedures-acoes-complexas","title":"Procedures: A\u00e7\u00f5es Complexas","text":"<p>Stored Procedures s\u00e3o fun\u00e7\u00f5es armazenadas que encapsulam l\u00f3gicas de jogo reutiliz\u00e1veis, podendo ser chamadas sob demanda.</p>"},{"location":"entrega3/triggers_storedprocedures/#exemplos_1","title":"Exemplos:","text":"<ul> <li><code>criar_estudante</code>: cria um novo jogador e inicializa afinidades</li> <li><code>registrar_vitoria_monstro</code>: atualiza XP e moedas ao vencer um monstro</li> <li><code>dropar_reliquia_boss</code>: entrega uma rel\u00edquia \u00fanica ao derrotar um boss</li> <li><code>usar_item_consumivel</code>: aplica efeito de cura e remove o item do invent\u00e1rio</li> </ul>"},{"location":"entrega3/triggers_storedprocedures/#beneficios-no-jogo","title":"Benef\u00edcios no jogo","text":"<ul> <li>Regras de neg\u00f3cio centralizadas e seguras no banco</li> <li>Automa\u00e7\u00e3o da l\u00f3gica do jogo (como XP, n\u00edveis, uso de itens)</li> <li>Redu\u00e7\u00e3o de c\u00f3digo repetido no backend ou frontend</li> <li>Facilidade de testes e manuten\u00e7\u00e3o</li> </ul>"},{"location":"entrega3/triggers_storedprocedures/#procedure-criar_estudante","title":"Procedure: <code>criar_estudante</code>","text":"<p>Cria um novo estudante e inicializa suas afinidades com todos os temas dispon\u00edveis.</p> <pre><code>CREATE OR REPLACE PROCEDURE criar_estudante(\n    p_nome CHAR(100),\n    p_vida INT,\n    p_estresse INT,\n    p_dinheiro INT,\n    p_id_sala INT\n)\nLANGUAGE plpgsql\nAS $$\nDECLARE\n    v_id_estudante INT;\nBEGIN\n    IF NOT EXISTS (SELECT 1 FROM sala_comum WHERE id_sala = p_id_sala) THEN\n        RAISE EXCEPTION 'Sala com id % n\u00e3o existe.', p_id_sala;\n    END IF;\n\n    INSERT INTO estudante (nome, vida, estresse, total_dinheiro, id_sala)\n    VALUES (p_nome, p_vida, p_estresse, p_dinheiro, p_id_sala)\n    RETURNING id_estudante INTO v_id_estudante;\n\n    INSERT INTO afinidade (id_estudante, id_tema, xp_atual, nivel_atual)\n    SELECT v_id_estudante, id_tema, 0, 1 FROM tema;\n\n    RAISE NOTICE 'Estudante criado com id % e afinidades configuradas.', v_id_estudante;\nEND;\n$$;\n</code></pre>"},{"location":"entrega3/triggers_storedprocedures/#procedure-registrar_vitoria_monstro","title":"Procedure: <code>registrar_vitoria_monstro</code>","text":"<p>Registra XP e moedas ao derrotar um monstro.</p> <pre><code>CREATE OR REPLACE PROCEDURE registrar_vitoria_monstro(\n    p_id_estudante INT,\n    p_id_monstro INT\n)\nLANGUAGE plpgsql\nAS $$\nDECLARE\n    v_tema_id INT;\n    v_xp_ganho INT;\n    v_moedas INT;\n    v_xp_atual INT;\n    v_nivel_atual INT;\nBEGIN\n    SELECT COALESCE(a.id_tema, c.id_tema, d.id_tema)\n    INTO v_tema_id\n    FROM habilidade_criatura hc\n    LEFT JOIN Ataque a ON hc.id_habilidade = a.id_habilidade\n    LEFT JOIN Cura c ON hc.id_habilidade = c.id_habilidade\n    LEFT JOIN Defesa d ON hc.id_habilidade = d.id_habilidade\n    WHERE hc.id_criatura = p_id_monstro\n    LIMIT 1;\n\n    SELECT xp_tema, qtd_moedas INTO v_xp_ganho, v_moedas\n    FROM monstro_simples\n    WHERE id_criatura = p_id_monstro;\n\n    SELECT xp_atual, nivel_atual INTO v_xp_atual, v_nivel_atual\n    FROM afinidade\n    WHERE id_estudante = p_id_estudante AND id_tema = v_tema_id;\n\n    v_xp_atual := v_xp_atual + v_xp_ganho;\n    WHILE v_xp_atual &gt;= v_nivel_atual * 100 LOOP\n        v_xp_atual := v_xp_atual - v_nivel_atual * 100;\n        v_nivel_atual := v_nivel_atual + 1;\n    END LOOP;\n\n    UPDATE afinidade\n    SET xp_atual = v_xp_atual, nivel_atual = v_nivel_atual\n    WHERE id_estudante = p_id_estudante AND id_tema = v_tema_id;\n\n    UPDATE estudante\n    SET total_dinheiro = total_dinheiro + v_moedas\n    WHERE id_estudante = p_id_estudante;\nEND;\n$$;\n</code></pre>"},{"location":"entrega3/triggers_storedprocedures/#procedure-dropar_reliquia_boss","title":"Procedure: <code>dropar_reliquia_boss</code>","text":"<p>Entrega a rel\u00edquia do boss se o estudante ainda n\u00e3o a tiver.</p> <pre><code>CREATE OR REPLACE PROCEDURE dropar_reliquia_boss(\n    p_id_estudante INT,\n    p_id_boss INT\n)\nLANGUAGE plpgsql\nAS $$\nDECLARE\n    v_id_reliquia INT;\n    v_ja_possui BOOLEAN;\nBEGIN\n    SELECT id_reliquia INTO v_id_reliquia\n    FROM boss\n    WHERE id_criatura = p_id_boss;\n\n    IF v_id_reliquia IS NULL THEN\n        RAISE EXCEPTION 'Boss com id % n\u00e3o possui rel\u00edquia.', p_id_boss;\n    END IF;\n\n    SELECT EXISTS (\n        SELECT 1 FROM instancia_de_item\n        WHERE id_estudante = p_id_estudante AND id_item = v_id_reliquia\n    ) INTO v_ja_possui;\n\n    IF v_ja_possui THEN\n        RAISE NOTICE 'Estudante % j\u00e1 possui a rel\u00edquia %.', p_id_estudante, v_id_reliquia;\n        RETURN;\n    END IF;\n\n    INSERT INTO instancia_de_item (id_item, id_estudante)\n    VALUES (v_id_reliquia, p_id_estudante);\n\n    RAISE NOTICE 'Rel\u00edquia % entregue ao estudante %.', v_id_reliquia, p_id_estudante;\nEND;\n$$;\n</code></pre>"},{"location":"entrega3/triggers_storedprocedures/#trigger-validar_sala_estudante","title":"Trigger: <code>validar_sala_estudante</code>","text":"<p>Impede inser\u00e7\u00e3o de estudante em sala inexistente.</p> <pre><code>CREATE OR REPLACE FUNCTION validar_sala_estudante()\nRETURNS TRIGGER AS $$\nBEGIN\n    IF NOT EXISTS (SELECT 1 FROM sala_comum WHERE id_sala = NEW.id_sala) THEN\n        RAISE EXCEPTION 'A sala com id % n\u00e3o existe.', NEW.id_sala;\n    END IF;\n    RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;\n\nCREATE TRIGGER trg_valida_sala_estudante\nBEFORE INSERT OR UPDATE ON estudante\nFOR EACH ROW\nEXECUTE FUNCTION validar_sala_estudante();\n</code></pre>"},{"location":"entrega3/triggers_storedprocedures/#trigger-check_criatura_unica","title":"Trigger: <code>check_criatura_unica</code>","text":"<p>Garante que uma criatura n\u00e3o seja ao mesmo tempo boss e monstro.</p> <pre><code>CREATE OR REPLACE FUNCTION check_criatura_unica()\nRETURNS TRIGGER AS $$\nBEGIN\n    IF EXISTS (SELECT 1 FROM boss WHERE id_criatura = NEW.id_criatura)\n       AND TG_TABLE_NAME = 'monstro_simples' THEN\n        RAISE EXCEPTION 'Essa criatura j\u00e1 \u00e9 um boss. N\u00e3o pode ser monstro simples.';\n    ELSIF EXISTS (SELECT 1 FROM monstro_simples WHERE id_criatura = NEW.id_criatura)\n       AND TG_TABLE_NAME = 'boss' THEN\n        RAISE EXCEPTION 'Essa criatura j\u00e1 \u00e9 um monstro simples. N\u00e3o pode ser boss.';\n    END IF;\n    RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;\n\nCREATE TRIGGER trg_check_criatura_boss\nBEFORE INSERT OR UPDATE ON boss\nFOR EACH ROW\nEXECUTE FUNCTION check_criatura_unica();\n\nCREATE TRIGGER trg_check_criatura_monstro\nBEFORE INSERT OR UPDATE ON monstro_simples\nFOR EACH ROW\nEXECUTE FUNCTION check_criatura_unica();\n</code></pre>"},{"location":"entrega3/triggers_storedprocedures/#trigger-check_item_equipavel","title":"Trigger: <code>check_item_equipavel</code>","text":"<p>Garante que somente itens do tipo \"Equip\u00e1vel\" possam ter o campo <code>equipado</code>.</p> <pre><code>CREATE OR REPLACE FUNCTION check_item_equipavel()\nRETURNS TRIGGER AS $$\nDECLARE\n    v_tipo CHAR(10);\nBEGIN\n    SELECT item_tipo INTO v_tipo\n    FROM tipo_item\n    WHERE id_item = NEW.id_item;\n\n    IF v_tipo &lt;&gt; 'Equip\u00e1vel' AND NEW.equipado IS NOT NULL THEN\n        RAISE EXCEPTION 'Apenas itens equip\u00e1veis podem ter valor em \"equipado\".';\n    END IF;\n\n    RETURN NEW;\nEND;\n$$ LANGUAGE plpgsql;\n\nCREATE TRIGGER trg_check_equipado\nBEFORE INSERT OR UPDATE ON instancia_de_item\nFOR EACH ROW\nEXECUTE FUNCTION check_item_equipavel();\n</code></pre>"},{"location":"entrega3/video3/","title":"V\u00eddeo entrega 3","text":"<p>Este documento cont\u00e9m a grava\u00e7\u00e3o da entrega 3. </p> Vers\u00e3o Data Descri\u00e7\u00e3o Autor <code>1.0</code> 07/07/2025 Cria\u00e7\u00e3o do documento do v\u00eddeo Isaque Camargos"}]}